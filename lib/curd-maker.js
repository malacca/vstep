define(["module","vue.utils","curd-utils"],function(e,l,t){"use strict";var o=e.uri.split("/"),n=(o=o.slice(0,o.length-2).join("/")+"/",[{label:"手机号",value:"^(?:\\+?86)?1(?:3\\d{3}|5[^4\\D]\\d{2}|8\\d{3}|7(?:[0135-9]\\d{2}|4(?:0\\d|1[0-2]|9\\d))|9[0135-9]\\d{2}|6[2567]\\d{2}|4[579]\\d{2})\\d{6}$"},{label:"Email",value:"^.+@.+$"},{label:"字母",value:"^[A-Za-z]+$"},{label:"大写字母",value:"^[A-Z]+$"},{label:"小写字母",value:"^[a-z]+$"},{label:"汉字",value:"^[\\u0391-\\uFFE5]+$"}]),a={name:"CurdOptionsSet",inject:{elForm:{default:""},elFormItem:{default:""}},props:{value:{required:!0},placeholder:{default:"点击配置"},disabled:Boolean,ignorNumber:Boolean,leftTitle:{type:String,default:"选项"},rightTitle:{type:String,default:"值"},keEditor:!1,keMenus:Array,keClass:String,keSplit:String,keBreak:String,simpleArr:Boolean,kvType:Boolean,allowGroup:Boolean,needLable:Boolean,withName:Boolean,showRegex:Boolean},data:function(){return{drawerSize:"430px",drawerDirection:"rtl",drawerClass:"",drawerVisible:!1,fieldName:"",options:[],disableValue:!1}},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},autoSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},autoDisabled:function(){return this.disabled||(this.elForm||{}).disabled},inputValue:function(){return JSON.stringify(this.value)},keAllMenus:function(){var e=this.keMenus.slice();return this.keSplit&&e.push(this.keSplit),this.keBreak&&e.push(this.keBreak),e}},watch:{value:{immediate:!0,handler:function(){this.__triggerValue?this.__triggerValue=!1:this._passiveChange()}},disableValue:function(e){e&&this.options.forEach(function(e){e.value=""})}},methods:{_passiveChange:function(){void 0===this.__idx&&(this.__idx=0),this.keEditor?this._menus2Options():this.simpleArr?this._array2Options():this.kvType?this._kvObj2Options():this._value2Options(),this._triggerChange()},_triggerChange:function(){var e;e=this.keEditor?this._options2Menus():this.simpleArr?this._options2Array():this.kvType?this._options2KvObj():this._options2Value(),this.__triggerValue=!0,this.$emit("input",e),this.$emit("change",e)},opendDrawer:function(){this.autoDisabled||(this.drawerSize=this.keEditor?"360px":"430px",this.drawerDirection=this.keEditor?"btt":"rtl",this.drawerClass=this.keEditor?"curd-options-icon-drawer":"",this.drawerVisible=!0)},afterOpened:function(){var e=this.keEditor||this.withName?null:this.$el.querySelector(".curd-options-set-scroll input");e&&e.focus()},afterClosed:function(){this._triggerChange()},addGroup:function(){this.options.push({idx:++this.__idx,value:"",group:!0})},addItem:function(){var e=!1;if(this.options.length){var l=this.options[this.options.length-1];e=Boolean(l.number)}this.options.push({idx:++this.__idx,label:"",value:"",number:e})},removeItem:function(e){this.options.splice(e,1)},suggestRegex:function(e,l){l(n)},_menus2Options:function(){this.options=this.value.slice()},_options2Menus:function(){return this.options.slice()},_array2Options:function(){var e=this,l=[];(Array.isArray(this.value)?this.value:[]).forEach(function(t){l.push({idx:++e.__idx,value:t,number:!e.ignorNumber&&"number"==typeof t})}),l.length||l.push({idx:++this.__idx,value:"",number:!1}),this.options=l},_options2Array:function(){var e=[];return this.options.forEach(function(l){l.value&&e.push(l.number?Number(l.value):l.value)}),e},_kvObj2Options:function(){var e,l,t=[],o=this.value||{};for(e in o)l=o[e],t.push({idx:++this.__idx,label:e,value:l,number:!this.ignorNumber&&"number"==typeof l});t.length||t.push({idx:++this.__idx,label:"",value:"",number:!1}),this.options=t},_options2KvObj:function(){var e={};return this.options.forEach(function(l){var t=l.label,o=l.value,n=l.number;t&&(e[t]=n?Number(o):o||"")}),e},_value2Options:function(){var e=this,l="",t=this.value;if(this.withName){var o=t.name;void 0===o&&(o="");var n=t.options;void 0===n&&(n=[]),l=o,t=n}this.fieldName=l;var a=[];(Array.isArray(t)?t:[]).forEach(function(l){if(l.options){var t=l.label,o=l.options;e.allowGroup&&t&&a.push({idx:++e.__idx,value:t,group:!0}),o.forEach(function(l){(l=e._parseOption(l))&&(l.idx=++e.__idx,a.push(l))})}else(l=e._parseOption(l))&&(l.idx=++e.__idx,a.push(l))}),a.length||a.push({idx:++this.__idx,label:"",value:"",number:!1}),this.options=a},_parseOption:function(e){return"value"in e?"label"in e?{label:e.label,value:e.value,number:"number"==typeof e.value}:{label:e.value,value:"",number:!1}:null},_options2Value:function(){var e=this,l=[],t=[],o=null;return this.options.forEach(function(n){var a=n.label,i=n.value,r=n.number;if(n.group)return o&&l.push(o),void(e.allowGroup&&i&&(o={label:i,options:[]}));if(a||i){var s=o?o.options:t;e.disableValue?a&&s.push({value:a}):e.needLable||a&&i?s.push({label:a,value:r?Number(i):i}):a?s.push({value:a}):i&&s.push({value:r?Number(i):i})}}),o&&l.push(o),l.length?l.unshift({label:null,options:t}):l=t,this.withName&&(l={name:this.fieldName,options:l}),l}}},i=(0,l.n)({render:function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("div",{staticClass:"curd-options-set"},[t("el-input",{attrs:{value:e.inputValue,placeholder:e.placeholder,size:e.autoSize,disabled:e.autoDisabled,readonly:""},nativeOn:{click:function(l){return e.opendDrawer(l)}}}),t("el-drawer",{attrs:{size:e.drawerSize,direction:e.drawerDirection,visible:e.drawerVisible,"custom-class":e.drawerClass},on:{"update:visible":function(l){e.drawerVisible=l},close:e.afterClosed,opened:e.afterOpened}},[e.keEditor?[t("draggable",{staticClass:"curd-options-set-menuIcons",attrs:{list:e.options,animation:340,group:"keMenuGroup"}},e._l(e.options,function(l,o){return t("div",{key:l,class:l===e.keBreak?"curd-options-set-divider":"curd-options-set-icon",attrs:{title:l===e.keSplit?"分隔符":l===e.keBreak?"换行符":l}},[l!==e.keBreak?t("span",{class:l===e.keSplit?"curd-options-set__split":e.keClass+l}):e._e(),t("i",{staticClass:"curd-options-set-rmIcon el-icon-error",on:{click:function(l){return e.removeItem(o)}}})])}),0),t("draggable",{staticClass:"curd-options-set-menuIcons",attrs:{list:e.keAllMenus,sort:!1,animation:0,group:{name:"keMenuGroup",pull:"clone",put:!1}}},e._l(e.keAllMenus,function(l){return t("div",{key:l,class:"curd-options-set-icon"+(l===e.keSplit||l===e.keBreak?"":e.options.includes(l)?" _dis":""),attrs:{filter:"._dis",title:l===e.keSplit?"分隔符":l===e.keBreak?"换行符":l}},[t("span",{class:l===e.keSplit?"curd-options-set__split":l===e.keBreak?"curd-options-set__break":e.keClass+l})])}),0)]:[t("span",{attrs:{slot:"title"},slot:"title"},[!e.kvType&&e.withName?t("el-input",{staticStyle:{width:"260px"},attrs:{size:"small"},model:{value:e.fieldName,callback:function(l){e.fieldName=l},expression:"fieldName"}},[t("template",{slot:"prepend"},[e._v("字段名")])],2):[e._v("字段配置")]],2),e.simpleArr?t("el-row",{staticStyle:{"padding-left":"20px"}},[t("el-col",[e._v(e._s(e.leftTitle))])],1):t("el-row",{staticStyle:{"padding-left":"20px"}},[t("el-col",{attrs:{span:10}},[e._v(e._s(e.leftTitle))]),e.kvType||e.needLable?t("el-col",{attrs:{span:14}},[e._v(e._s(e.rightTitle))]):t("el-col",{attrs:{span:14}},[e._v("值 "),t("el-switch",{attrs:{"active-text":"清空并禁用(选项即为值)"},model:{value:e.disableValue,callback:function(l){e.disableValue=l},expression:"disableValue"}})],1)],1),t("div",{staticClass:"curd-options-set-drawer"},[t("div",{staticClass:"curd-options-set-scroll app-thin-scroll"},[t("draggable",{ref:"draggable",attrs:{list:e.options,animation:340,group:"curdOptionsSet",handle:".el-icon-rank"}},e._l(e.options,function(l,o){return t("el-row",{key:l.idx},[e.simpleArr||l.group?e._e():t("el-col",{attrs:{span:10}},[e.showRegex?t("el-autocomplete",{staticStyle:{width:"90%"},attrs:{size:"small","fetch-suggestions":e.suggestRegex},scopedSlots:e._u([{key:"default",fn:function(l){var t=l.item;return[e._v(e._s(t.label))]}}],null,!0),model:{value:l.label,callback:function(t){e.$set(l,"label",t)},expression:"option.label"}}):t("el-input",{staticStyle:{width:"90%"},attrs:{size:"small"},model:{value:l.label,callback:function(t){e.$set(l,"label",t)},expression:"option.label"}})],1),t("el-col",{attrs:{span:e.simpleArr||l.group?24:14}},[t("el-input",{style:"width:"+(e.simpleArr||l.group?"338px":"70%"),attrs:{type:l.number?"number":"text",disabled:!l.group&&e.disableValue,size:"small"},model:{value:l.value,callback:function(t){e.$set(l,"value",t)},expression:"option.value"}},[e.ignorNumber||l.group?e._e():t("el-checkbox",{attrs:{slot:"suffix",size:"small",disabled:e.disableValue},slot:"suffix",model:{value:l.number,callback:function(t){e.$set(l,"number",t)},expression:"option.number"}},[e._v("数字")])],1),t("i",{staticClass:"el-icon-remove-outline",on:{click:function(l){return e.removeItem(o)}}}),t("i",{staticClass:"el-icon-rank"})],1)],1)}),1),t("el-button",{attrs:{icon:"el-icon-circle-plus",type:"primary",size:"mini"},on:{click:e.addItem}},[e._v("新增一项")]),!e.kvType&&e.allowGroup?t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{icon:"el-icon-circle-plus",type:"success",size:"mini"},on:{click:e.addGroup}},[e._v("添加分组")]):e._e()],1)])]],2)],1)},staticRenderFns:[]},function(e){e&&e("data-v-319043b9_0",{source:".curd-options-icon-drawer .el-drawer__header{margin-bottom:0}.curd-options-set-menuIcons{display:flex;flex-wrap:wrap;margin:15px 20px;padding:10px 20px;border:1px solid #cecece}.curd-options-set-menuIcons ._dis{opacity:.25}.curd-options-set-icon{width:28px;height:28px;display:flex;align-items:center;justify-content:center;background:#eee;margin:4px;border-radius:4px;position:relative}.curd-options-set-divider{width:100%;height:7px;position:relative;background:#eee;margin:3px 4px}.curd-options-set-divider:hover{background:#dcdcdc}.curd-options-set-rmIcon{position:absolute;right:-4px;top:-4px;color:#999}.curd-options-set-rmIcon:hover{color:#000}.curd-options-set__split{display:block;width:1px;height:16px;background:#999;border-right:1px solid #fff}.curd-options-set__break{display:block;width:16px;height:1px;background:#999;border-bottom:1px solid #fff}.curd-options-set{font-size:14px;line-height:32px}.curd-options-set .el-input__inner{cursor:pointer}.curd-options-set .el-drawer__body{display:flex;flex-direction:column}.curd-options-set-drawer{flex:1;position:relative}.curd-options-set-scroll{position:absolute;left:0;top:0;width:100%;height:100%;overflow-y:auto}.curd-options-set-scroll .el-row{padding-left:20px;margin-top:10px}.curd-options-set-scroll .el-row i{font-size:1.5em;vertical-align:middle;cursor:move;color:#233e2f}.curd-options-set-scroll i.el-icon-remove-outline{color:red;cursor:pointer}.curd-options-set-scroll .el-checkbox__label{padding-left:4px}.curd-options-set-scroll .el-button{margin:10px 0 10px 20px}.curd-options-set-scroll input[type=number]{-moz-appearance:textfield}.curd-options-set-scroll input::-webkit-inner-spin-button,.curd-options-set-scroll input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}",map:void 0,media:void 0})},a,void 0,!1,void 0,!1,l.c,void 0,void 0);function r(e,l,t,o,n){var a=n?"append":"prepend",i="_"+a+"Type",r="_"+a+"Text",s="_"+a+"Select",p=n?"appname":"prename",c=t.name+"_"+a,u=e[a]||"",d=Array.isArray(u)?1:0;e[i]=d,e[r]=d?"":u;var m=e[p]||c,h=o.getNativeData(m),v=d?u:[];e[p]=c,o.addFieldData(c,h),e[s]={name:m,options:v}}function s(e,l,t,o){r(e,0,t,o,!0)}function p(e,l,t,o,n){var a=n?"append":"prepend",i="_"+a+"Type",r="_"+a+"Text",s="_"+a+"Select";e[a]=0===e[i]?e[r]:e[s].options}function c(e,l,t,o){p(e,0,0,0,!0)}function u(e,l,t,o,n){var a=n?"append":"prepend",i="_"+a+"Type";if(t.props[i]){var r=n?"appname":"prename",s=t.name+"_"+a,p=t.props["_"+a+"Select"].name,c=o.getFieldData(s);e.props[r]=p,l[p]=c}}function d(e,l,t,o){u(e,l,t,o,!0)}var m={label:"输入框",component:"el-input",value:"",props:{placeholder:{value:"",label:"占位文本",component:"el-input"},maxlength:{value:"",label:"最多输入",component:"el-input",props:{append:"个字符"}},type:{value:"text",label:"类型",component:"el-radio-group",props:{button:!0,options:[{label:"单行",value:"text"},{label:"多行",value:"textarea"},{label:"密码",value:"password"}]}},prepend:{value:"",hidden:!0,onInit:r,onMake:u},_prependType:{value:0,label:"前置内容",span:12,ignore:!0,component:"el-select",vshow:["type","!=","textarea"],props:{options:[{value:0,label:"文字"},{value:1,label:"单选"}]},onChange:p},_prependText:{value:"",label:null,span:12,ignore:!0,component:"el-input",vshow:["_prependType","==",0],onChange:p},_prependSelect:{value:{},label:null,span:12,ignore:!0,component:"curd-options-set",vshow:["_prependType","==",1],props:{withName:!0,allowGroup:!0},onChange:p},append:{value:"",hidden:!0,onInit:s,onMake:d},_appendType:{value:0,label:"后置内容",span:12,ignore:!0,component:"el-select",vshow:["type","!=","textarea"],props:{options:[{value:0,label:"文字"},{value:1,label:"单选"}]},onChange:c},_appendText:{value:"",label:null,span:12,ignore:!0,component:"el-input",vshow:["_appendType","==",0],onChange:c},_appendSelect:{value:{},label:null,span:12,ignore:!0,component:"curd-options-set",vshow:["_appendType","==",1],props:{withName:!0,allowGroup:!0},onChange:c},prefixIcon:{value:"",label:"头部图标",vshow:["type","!=","textarea"],component:"curd-choose",props:{allowInput:!0,staticIcon:!0,placeholder:"ex: el-icon-**"}},suffixIcon:{value:"",label:"尾部图标",vshow:["type","!=","textarea"],component:"curd-choose",props:{allowInput:!0,staticIcon:!0,placeholder:"ex: el-icon-**"}},clearable:{value:!1,label:"能否清空",component:"el-switch",vshow:["type","!=","textarea"]},showWordLimit:{value:!1,label:"输入统计",component:"el-switch",vshow:["type","!=","password"]},showPassword:{value:!1,label:"切换密码",vshow:["type","==","password"],component:"el-switch",props:{activeText:"显示切换图标"}},rows:{value:2,label:"行数",vshow:["type","==","textarea"],component:"el-input-number",props:{min:2}},resize:{value:"vertical",label:"缩放控制",vshow:["type","==","textarea"],component:"el-select",props:{options:[{label:"禁止",value:"none"},{label:"自由",value:"both"},{label:"横向",value:"horizontal"},{label:"竖向",value:"vertical"}]}}}};function h(e){e.suggest=0===e._suggestType?e._suggestList:{url:e._suggestUrl,credentials:e._suggestCredentials}}var v={label:"建议输入框",component:"el-autocomplete",value:"",props:{suggest:{value:"",hidden:!0,onInit:function(e,l){if(Array.isArray(l))e._suggestType=0,e._suggestList=l.slice();else{var t=l.url,o=l.credentials;e._suggestType=t?1:0,e._suggestUrl=t||"",e._suggestCredentials=Boolean(o)}}},_suggestType:{value:0,label:"建议列表",span:12,ignore:!0,component:"el-select",props:{options:[{value:0,label:"固定"},{value:1,label:"远程"}]},onChange:h},_suggestList:{value:[],label:null,span:12,ignore:!0,component:"curd-options-set",vshow:["_suggestType","==",0],props:{simpleArr:!0},onChange:h},_suggestUrl:{value:"",label:null,span:12,ignore:!0,component:"el-input",vshow:["_suggestType","==",1],onChange:h},_suggestCredentials:{value:!1,label:"请求配置",help:"请求地址为: GET url?q=queryString\n开启后会携带 cookie, 若跨域, 请返回正确的 header 头\n返回数据格式为 json array ['str', 'str', ...]",ignore:!0,component:"el-switch",vshow:["_suggestType","==",1],props:{activeText:"开启 fetch credentials"},onChange:h},placement:{value:"bottom-start",label:"弹出位置",component:"el-select",styleWidth:"100%",props:{options:[{value:"top"},{value:"top-start"},{value:"top-end"},{value:"bottom"},{value:"bottom-start"},{value:"bottom-end"}]}},placeholder:{value:"",label:"占位文本",component:"el-input"},maxlength:{value:"",label:"最多输入",component:"el-input",props:{append:"个字符"}},clearable:{value:!1,label:"能否清空",span:11,component:"el-switch"},showWordLimit:{value:!1,label:"输入统计",span:13,component:"el-switch"},triggerOnFocus:{value:!0,label:"激活建议",help:"输入框 focus 时显示建议列表",span:11,component:"el-switch"},hideLoading:{value:!1,label:"隐藏加载图标",labelWidth:"88px",span:13,component:"el-switch"},prepend:{value:"",hidden:!0,onInit:r,onMake:u},_prependType:{value:0,label:"前置内容",span:12,ignore:!0,component:"el-select",props:{options:[{value:0,label:"文字"},{value:1,label:"单选"}]},onChange:p},_prependText:{value:"",label:null,span:12,ignore:!0,component:"el-input",vshow:["_prependType","==",0],onChange:p},_prependSelect:{value:{},label:null,span:12,ignore:!0,component:"curd-options-set",vshow:["_prependType","==",1],props:{withName:!0,allowGroup:!0},onChange:p},append:{value:"",hidden:!0,onInit:s,onMake:d},_appendType:{value:0,label:"后置内容",span:12,ignore:!0,component:"el-select",props:{options:[{value:0,label:"文字"},{value:1,label:"单选"}]},onChange:c},_appendText:{value:"",label:null,span:12,ignore:!0,component:"el-input",vshow:["_appendType","==",0],onChange:c},_appendSelect:{value:{},label:null,span:12,ignore:!0,component:"curd-options-set",vshow:["_appendType","==",1],props:{withName:!0,allowGroup:!0},onChange:c},prefixIcon:{value:"",label:"头部图标",vshow:["type","!=","textarea"],component:"curd-choose",props:{allowInput:!0,staticIcon:!0,placeholder:"ex: el-icon-**"}},suffixIcon:{value:"",label:"尾部图标",vshow:["type","!=","textarea"],component:"curd-choose",props:{allowInput:!0,staticIcon:!0,placeholder:"ex: el-icon-**"}}}},f={label:"计数器",component:"el-input-number",value:"",props:{controls:{value:!0,label:"启用按钮",span:10,component:"el-switch"},controlsPosition:{value:"default",label:null,span:14,vshow:["controls",!0],component:"el-radio-group",props:{options:[{label:"两侧",value:"default"},{label:"右侧",value:"right"}]}},min:{value:void 0,label:"最小值",component:"el-input-number"},max:{value:void 0,label:"最大值",component:"el-input-number"},precision:{value:void 0,label:"数字精度",component:"el-input-number"},step:{value:1,label:"计数步长",component:"el-input-number"},stepStrictly:{value:!1,label:"严格步数",component:"el-switch"}}},b={label:"多选框",component:"el-checkbox-group",value:[],props:{options:{value:[],demoValue:[{label:"选项一",value:1},{label:"选项二",value:2}],label:"选项配置",component:"curd-options-set"},min:{value:void 0,label:"最少勾选",component:"el-input-number"},max:{value:void 0,label:"最多勾选",component:"el-input-number"},button:{value:!1,label:"展示形式",component:"el-radio-group",props:{button:!0,options:[{label:"单选框",value:!1},{label:"按钮",value:!0}]}},textColor:{value:"#ffffff",label:"激活颜色",span:10,vshow:["button",!0],component:"el-color-picker"},fill:{value:"#409EFF",label:"激活背景",span:14,vshow:["button",!0],component:"el-color-picker"}}},g={label:"下拉框",component:"el-select",value:"",props:{placeholder:{value:"",label:"占位文本",component:"el-input"},options:{value:[],demoValue:[{label:"选项一",value:1},{label:"选项二",value:2}],label:"选项配置",component:"curd-options-set",props:{allowGroup:!0}},multiple:{value:!1,hidden:!0,onInit:function(e,l){e._multiple=l}},_multiple:{value:!1,label:"可多选",ignore:!0,component:"el-radio-group",props:{button:!0,options:[{label:"否",value:!1},{label:"是",value:!0}]},onChange:function(e,l,t,o){var n=o.getFieldData(t.name);l&&!Array.isArray(n)?""===n||null==n?(o.addFieldData(t.name,[]),e.multiple=l):(o.formProps.data[t.name]=null,o.$nextTick(function(){o.addFieldData(t.name,[]),e.multiple=l})):l||(o.addFieldData(t.name,""),e.multiple=l)}},filterable:{value:!1,label:"允许搜索",span:14,component:"el-switch"},clearable:{value:!1,label:"能否清空",span:10,component:"el-switch"},allowCreate:{value:!1,label:"允许新建",component:"el-switch",props:{activeText:"需开启[允许搜索]项"},onChange:function(e){e.filterable||(e.filterable=!0)}},multipleLimit:{value:0,label:"多选限制",vshow:["_multiple",!0],component:"el-input-number"},collapseTags:{value:!1,label:"多选折叠",vshow:["_multiple",!0],component:"el-switch"},reserveKeyword:{value:!1,label:"保留搜索",vshow:["_multiple",!0],component:"el-switch",props:{activeText:"选中选项后保留搜索词"}}}};function _(e){var l={};e._source>1?(l.url=e._remoteUrl,e._remoteOnce&&(l.once=!0),e._remoteCredentials&&(l.credentials=!0)):e._source>0&&(l.geography=!0,l.url=e._geographyUrl,l.options=e._geographyOptions),e.remote=l}function w(e){e._supportSearch=1!==e._source||e._remoteOnce}var k={_source:{value:0,label:"数据类型",help:"备注：当前 Elm 有 bug, 若设置默认值，在表单设计期间会有 Js 报错\n但并不影响导出表单后的使用，该组件对于动态修改属性的兼容性差",ignore:!0,component:"el-radio-group",props:{button:!0,options:[{label:"静态数据",value:0},{label:"地区联动",value:1},{label:"远程数据",value:2}]},onInit:function(e){var l=e.remote,t=e.props;if(l){var o,n=l.geography,a=l.url,i=l.once,r=l.credentials,s=l.options,p=a||"";p?n?(o=1,e._geographyUrl=p,e._geographyOptions=Array.isArray(s)?s:[]):(o=2,e._remoteUrl=p,i&&(e._remoteOnce=!0),r&&(e._remoteCredentials=!0)):o=0,e._source=o,w(e)}if(t){var c=t||{};"expandTrigger"in c&&"hover"===c.expandTrigger&&(e._hoverExpand=!0),"checkStrictly"in c&&c.checkStrictly&&(e._checkStrictly=!0),"emitPath"in c&&!c.emitPath&&(e._onlySelect=!0),"multiple"in c&&c.multiple&&(e._multiple=!0)}},onChange:function(e,l,t,o){console.log(e),w(e),_(e)}},options:{value:[],label:null,component:"curd-tree-set",vshow:["_source",!1]},remote:{value:{},hidden:!0,vshow:["_source",">",0]},_geographyUrl:{value:"",label:"数据URL",help:"默认提供了一个 json 地址, 可自行部署该 json 文件",vshow:["_source",1],ignore:!0,component:"el-autocomplete",styleWidth:"100%",props:{suggest:["//cdn.jsdelivr.net/gh/malacca/vstep@93a1d4ae65cbe2b03413b4bd7255ae857cc0ad9a/geography.json"]},onChange:_},_geographyOptions:{value:[1,2,3],label:"含港澳台",vshow:["_source",1],ignore:!0,component:"el-checkbox-group",props:{options:[{label:"香港",value:1},{label:"澳门",value:2},{label:"台湾",value:3}]},onChange:_},_remoteUrl:{value:"",label:"远程地址",ignore:!0,component:"el-input",vshow:["_source",2],onChange:_},_remoteOnce:{value:!1,label:"请求类型",help:"开启后请求地址为: GET url\n　返回数据结构与 el-cascader 组件的 options 属性一致\n未开启请求地址为：GET url?level=int&uid=int&value=&label=\n　返回 Json Array [ { label:Str, value, leaf:Bool }, .... ] \n　可通过 leaf=true 明确告知无子节点",ignore:!0,component:"el-switch",vshow:["_source",2],props:{activeText:"一次性返回所有数据"},onChange:function(e,l){w(e),_(e)}},_remoteCredentials:{value:!1,label:"请求配置",help:"开启后会携带 cookie, 若跨域, 请返回正确的 header 头",ignore:!0,component:"el-switch",vshow:["_source",2],props:{activeText:"开启 fetch credentials"},onChange:_}};var x={placeholder:{value:"",label:"占位文本",component:"el-input"},props:{value:{},hidden:!0,onMake:function(e){if("props"in e.props){var l={},t=e.props.props||{};"expandTrigger"in t&&"hover"===t.expandTrigger&&(l.expandTrigger="hover"),"checkStrictly"in t&&t.checkStrictly&&(l.checkStrictly=!0),"emitPath"in t&&!t.emitPath&&(l.emitPath=!1),"multiple"in t&&t.multiple&&(l.multiple=!0),Object.keys(l).length?e.props.props=l:delete e.props.props}}},_hoverExpand:{value:!1,label:"hover展开",ignore:!0,span:12,component:"el-switch",onChange:function(e,l,t,o){o.addFieldData(t.name,null),e.props=Object.assign({},e.props,{expandTrigger:l?"hover":"click"})}},_checkStrictly:{value:!1,label:"可选任意一级",labelWidth:"90px",ignore:!0,span:12,component:"el-switch",onChange:function(e,l,t,o){e.props=Object.assign({},e.props,{checkStrictly:l})}},_onlySelect:{value:!1,label:"仅节点值",help:"最终 value 是否仅为选中节点的值\n默认为数组, 包括选中节点和上级节点值",ignore:!0,span:12,component:"el-switch",onChange:function(e,l,t,o){e.props=Object.assign({},e.props,{emitPath:!l}),function(e,l){var t=l.getFieldData(e.name);console.log(t),t&&(l.addFieldData(e.name,null),l.reCreateFiled())}(t,o)}},_multiple:{value:!1,label:"是否多选",ignore:!0,span:12,component:"el-switch",onChange:function(e,l,t,o){e.props=Object.assign({},e.props,{multiple:l})}}},y={cascader:{label:"级联选择器",component:"el-cascader",value:"",beforeUpdate:function(e,l){l.console.log("--------------hh-------------")},props:Object.assign({},k,{_supportSearch:{value:!0,hidden:!0,ignore:!0},showAllLevels:{value:!0,label:"完整路径",span:12,component:"el-switch"},separator:{value:"/",label:"分隔字符",span:12,vshow:["showAllLevels",!0],component:"el-input"},clearable:{value:!1,label:"允许清空",span:13,component:"el-switch"},filterable:{value:!1,label:"允许搜索",span:11,vshow:["_supportSearch",!0],component:"el-switch"}},x,{collapseTags:{value:!1,label:"折叠Tag",component:"el-switch",vshow:["_multiple",!0]}})},panel:{label:"级联选择板",component:"el-cascader-panel",value:"",beforeUpdate:function(e,l){console.log("--------------hh-------------")},props:Object.assign({},k,x)}},C={label:"评分",component:"el-rate",value:"",props:{max:{value:5,label:"最大分值",span:13,styleWidth:"80px",component:"el-input-number",props:{controlsPosition:"right"}},allowHalf:{value:!1,label:"允许半选",labelWidth:"60px",span:11,component:"el-switch"},lowThreshold:{value:2,label:"低分界限",span:13,styleWidth:"80px",component:"el-input-number",props:{controlsPosition:"right"}},highThreshold:{value:4,label:"高分界限",labelWidth:"60px",span:11,styleWidth:"80px",component:"el-input-number",props:{controlsPosition:"right"}},voidIconClass:{value:"el-icon-star-off",label:"默认图标",component:"curd-choose",props:{allowInput:!0,staticIcon:!0,placeholder:"ex: el-icon-**"}},iconClasses:{value:["el-icon-star-on","el-icon-star-on","el-icon-star-on"],label:"激活图标",help:"可选三个，分别为 低分/中分/高分 的显示图标",component:"curd-choose",props:{allowInput:!0,staticIcon:!0,multiple:!0,multipleLimit:3,placeholder:"ex: el-icon-**"},onChange:function(e,l,t,o){o.reCreateFiled()}},voidColor:{value:"#C6D1DE",label:"四段颜色",help:"分别为：未选 / 低分 / 中分 / 高分",span:10,component:"el-color-picker"},colors:{value:["#F7BA2A","#F7BA2A","#F7BA2A"],hidden:!0,onInit:function(e,l){var t=Array.isArray(l)?l.length:0;t>0&&(e._lowColor=l[0]),t>1&&(e._middleColor=l[1]),t>2&&(e._highColor=l[2])}},_lowColor:{value:"#F7BA2A",label:null,ignore:!0,span:4,component:"el-color-picker",onChange:function(e,l,t,o){e.colors[0]=l,o.reCreateFiled()}},_middleColor:{value:"#F7BA2A",label:null,ignore:!0,span:4,component:"el-color-picker",onChange:function(e,l,t,o){e.colors[1]=l,o.reCreateFiled()}},_highColor:{value:"#F7BA2A",label:null,ignore:!0,span:4,component:"el-color-picker",onChange:function(e,l,t,o){e.colors[2]=l,o.reCreateFiled()}},showText:{value:!1,hidden:!0,onInit:function(e){e._show=e.showText?2:e.showScore?1:0}},showScore:{value:!1,hidden:!0},_show:{value:0,label:"辅助文字",ignore:!0,component:"el-radio-group",props:{button:!0,options:[{label:"不显示",value:0},{label:"分数",value:1},{label:"文字",value:2}]},onChange:function(e,l){e.showText=2===l,e.showScore=1===l}},textColor:{value:"#1F2D3D",label:"文字颜色",vshow:["_show","!=",0],component:"el-color-picker"},texts:{value:[],label:"文字设置",component:"curd-options-set",vshow:["_show","==",2],props:{simpleArr:!0,ignorNumber:!0,leftTitle:"提示文字"}}}};function T(e){return e>9?e:"0"+e}function F(e){return e&&e instanceof Date?T(e.getHours())+":"+T(e.getMinutes())+":"+T(e.getSeconds()):""}function I(e,l,t){if("string"==typeof e&&e){var o=l,n=t,a=0;return e=e.split(":"),o=parseInt(e[0]),o=isNaN(o)?l:o,e.length>1&&(n=parseInt(e[1]),n=isNaN(n)?t:n),e.length>2&&(a=parseInt(e[2]),a=isNaN(a)?0:a),new Date(2016,9,10,o,n,a)}return""}function P(e){if(!e||"string"!=typeof e||-1===e.indexOf("-"))return!1;var l=e.split("-");return 2===l.length&&[I(l[0],0,0),I(l[1],23,59)]}var O=["datetimerange","daterange","monthrange"];var S={label:"日期选择",component:"el-date-picker",value:"",props:{editable:{value:!0,label:"可输入",span:14,component:"el-switch"},clearable:{value:!0,label:"可清除",labelWidth:"46px",span:10,component:"el-switch"},format:{value:"",label:"显示格式",component:"el-input",props:{clearable:!0}},valueFormat:{value:"",label:"值格式",styleWidth:"100%",component:"el-autocomplete",props:{clearable:!0,suggest:["timestamp"]}},type:{value:"date",label:"选择类型",component:"el-select",styleWidth:"100%",props:{options:[{value:"year"},{value:"month"},{value:"date"},{value:"dates"},{value:"week"},{value:"datetime"},{value:"datetimerange"},{value:"daterange"},{value:"monthrange"}]},onChange:function(e,l,t,o){!function(e){"datetime"===e.type?e.defaultTime=F(e._defaultTime):"datetimerange"===e.type?e._leftTime||e._rightTime?e.defaultTime=[F(e._leftTime),F(e._rightTime)]:e.defaultTime=["",""]:e.defaultTime=""}(e),o.addFieldData(t.name,""),o.reCreateFiled()}},placeholder:{value:"",label:"占位符",vshow:["type","notIn",O],component:"el-input"},rangeSeparator:{value:"-",label:"分隔符",vshow:["type","in",O],component:"el-input"},startPlaceholder:{value:"",label:"左占位符",vshow:["type","in",O],component:"el-input",props:{clearable:!0}},endPlaceholder:{value:"",label:"右占位符",vshow:["type","in",O],component:"el-input",props:{clearable:!0}},defaultTime:{value:"",hidden:!0,onInit:function(e,l){if(Array.isArray(l)){var t=P(l.join("-"));t&&(e._leftTime=t[0],e._rightTime=t[1])}else l&&(e._defaultTime=I(l,0,0))}},_defaultTime:{value:"",label:"默认时间",ignore:!0,styleWidth:"100%",vshow:["type","==","datetime"],component:"el-time-picker",props:{clearable:!0},onChange:function(e,l){e.defaultTime=F(l)}},_leftTime:{value:"",label:"默认时间",span:15,ignore:!0,styleWidth:"100%",vshow:["type","==","datetimerange"],component:"el-time-picker",props:{clearable:!0},onChange:function(e,l){e.defaultTime[0]=F(l)}},_rightTime:{value:"",label:null,span:9,ignore:!0,styleWidth:"100%",vshow:["type","==","datetimerange"],component:"el-time-picker",props:{clearable:!0},onChange:function(e,l){e.defaultTime[1]=F(l)}},timeArrowControl:{value:!1,label:"箭头选值",vshow:["type","in",["datetime","datetimerange"]],component:"el-switch",props:{activeText:"时间选择器使用箭头切换值"},onChange:function(e,l,t,o){o.reCreateFiled()}},unlinkPanels:{value:!1,label:"关闭联动",vshow:["type","in",O],component:"el-switch",props:{activeText:"取消两个日期面板之间的联动"}}}},N={label:"时间选择",component:"el-time-picker",value:"",props:{arrowControl:{value:!1,label:"箭头选值",span:10,component:"el-switch",onChange:function(e,l,t,o){o.reCreateFiled()}},editable:{value:!0,label:"可输入",labelWidth:"46px",span:7,component:"el-switch"},clearable:{value:!0,label:"可清除",labelWidth:"46px",span:7,component:"el-switch"},pickerOptions:{value:{},hidden:!0,onInit:function(e,l){var t=l.selectableRange,o=l.format;if(t){var n=P(t);n&&(e._selectableRange=n)}if(o){var a=[],i=["HH","mm","ss","A"];o.split(":").forEach(function(e){i.includes(e)&&a.push(e)}),a.length&&(e._format=a)}},onMake:function(e){var l=e.props;"pickerOptions"in l&&!Object.keys(l.pickerOptions).length&&delete l.pickerOptions}},_format:{value:["HH","mm","ss"],label:"显示格式",ignore:!0,component:"el-checkbox-group",props:{button:!0,options:[{value:"HH"},{value:"mm"},{value:"ss"},{value:"A"}]},onChange:function(e,l){var t=l.join(":");"format"in e.pickerOptions?e.pickerOptions.format=t:e.pickerOptions=Object.assign({},e.pickerOptions,{format:t})}},valueFormat:{value:"",label:"值格式",styleWidth:"100%",component:"el-autocomplete",props:{clearable:!0,suggest:["timestamp"]}},_selectableRange:{value:"",label:"可选时间",ignore:!0,styleWidth:"100%",component:"el-time-picker",props:{isRange:!0,pickerOptions:{format:"HH:mm"}},onChange:function(e,l,t,o){var n=l?F(l[0])+"-"+F(l[1]):"00:00:00-23:59:59";"selectableRange"in e.pickerOptions?e.pickerOptions.selectableRange=n:e.pickerOptions=Object.assign({},e.pickerOptions,{selectableRange:n}),l||o.$nextTick(function(){e.pickerOptions.selectableRange=""})}},isRange:{value:!1,hidden:!0,onInit:function(e,l){e._isRange=l}},_isRange:{value:!1,label:"范围选择",ignore:!0,component:"el-radio-group",props:{button:!0,options:[{label:"否",value:!1},{label:"是",value:!0}]},onChange:function(e,l,t,o){o.addFieldData(t.name,""),e.isRange=l,o.reCreateFiled()}},placeholder:{value:"",label:"占位符",vshow:["isRange",!1],component:"el-input"},rangeSeparator:{value:"-",label:"分隔符",vshow:["isRange",!0],component:"el-input"},startPlaceholder:{value:"",label:"左占位符",vshow:["isRange",!0],component:"el-input",props:{clearable:!0}},endPlaceholder:{value:"",label:"右占位符",vshow:["isRange",!0],component:"el-input",props:{clearable:!0}}}},E=["start","end","minTime","maxTime"];function j(e,l,t,o,n,a){var i=a?n?"maxTime":"minTime":n?"end":"start",r="_"+i+"PickerFixed",s="_"+i+"PickerCurrent",p="_"+i+"PickerRelated",c="",u=e["_"+i+"PickerType"];if(u>1)c=e[p],c=(c=o.getFieldTmpName(c))?"$data."+c:"";else if(u>0){var d=e[s];d=parseInt(d),c="var s="+(d=isNaN(d)?0:d)+",curt=new Date();",0!==d&&(c+="curt.setMinutes(curt.getMinutes() + s);"),c="$eval("+(c+="var hour=curt.getHours(),min=curt.getMinutes();return (hour>9?'':'0')+hour+':'+(min>9?'':'0')+min;")+")"}else e[r]&&(c=T((c=new Date(e[r])).getHours())+":"+T(c.getMinutes()));var m=Object.assign({},e.pickerOptions);m[i]=c,e.pickerOptions=m}function W(e,l,t,o){j(e,0,0,o,!0)}function A(e,l,t,o){j(e,0,0,o,!1,!0)}function z(e,l,t,o){j(e,0,0,o,!0,!0)}var M,D={label:"时分选择",component:"el-time-select",value:"",props:{placeholder:{value:"",label:"占位文本",component:"el-input"},editable:{value:!0,label:"可输入",span:14,component:"el-switch"},clearable:{value:!0,label:"可清除",span:10,component:"el-switch"},pickerOptions:{value:{},hidden:!0,onInit:function(e,l,t,o){var n={};E.forEach(function(t){if(t in l){var a=l[t],i="_"+t+"PickerType";if(a.startsWith("$data.")){var r=a.substr(6),s=o.getFieldTmpName(r);n[t]=s?"$data."+s:"",e[i]=2,e["_"+t+"PickerRelated"]=r}else if(a.startsWith("$eval(")){var p=parseInt(a.substr(12).split(",")[0]);p=isNaN(p)?0:p,e[i]=1,e["_"+t+"PickerCurrent"]=p}else a&&(e[i]=0,e["_"+t+"PickerFixed"]=I(a))}}),"step"in l&&l.step&&(e._pickerStep=I(l.step,0,30));var a=Object.assign({},e.pickerOptions,n);e.pickerOptions=a},onMake:function(e,l,t,o){var n=t.props,a=e.props.pickerOptions,i={};E.forEach(function(e){e in a&&a[e]&&(2===n["_"+e+"PickerType"]?i[e]="$data."+n["_"+e+"PickerRelated"]:i[e]=a[e])}),"step"in a&&a.step&&(i.step=a.step),Object.keys(i).length?e.props.pickerOptions=i:delete e.props.pickerOptions},onNameChange:function(e,l,t,o){var n={};if(E.forEach(function(l){if(2===e["_"+l+"PickerType"]){var t=e["_"+l+"PickerRelated"],a=o.getFieldTmpName(t);n[l]=a?"$data."+a:""}}),Object.keys(n).length){var a=Object.assign({},e.pickerOptions,n);e.pickerOptions=a}}},_startPickerType:{value:0,label:"开始时间",help:"固定：即静态的时间\n实时：填写表单时的时间 + 偏移分钟（可为负数）\n关联：另外一个时分选择字段的字段名\n下同",span:12,ignore:!0,component:"el-select",props:{options:[{value:0,label:"固定"},{value:1,label:"实时"},{value:2,label:"关联"}]},onChange:j},_startPickerFixed:{value:new Date(2016,9,10,9,0),label:null,span:12,ignore:!0,styleWidth:"100%",vshow:["_startPickerType","==",0],component:"el-time-picker",props:{format:"HH:mm",clearable:!1},onChange:j},_startPickerCurrent:{value:0,label:null,span:12,ignore:!0,styleWidth:"100%",vshow:["_startPickerType","==",1],component:"el-input-number",props:{placeholder:"偏移分钟"},onChange:j},_startPickerRelated:{value:"",label:null,span:12,ignore:!0,vshow:["_startPickerType","==",2],component:"el-input",props:{placeholder:"字段名"},onChange:j},_endPickerType:{value:0,label:"结束时间",span:12,ignore:!0,component:"el-select",props:{options:[{value:0,label:"固定"},{value:1,label:"实时"},{value:2,label:"关联"}]},onChange:W},_endPickerFixed:{value:new Date(2016,9,10,18,0),label:null,span:12,ignore:!0,styleWidth:"100%",vshow:["_endPickerType","==",0],component:"el-time-picker",props:{format:"HH:mm",clearable:!1},onChange:W},_endPickerCurrent:{value:void 0,label:null,span:12,ignore:!0,styleWidth:"100%",vshow:["_endPickerType","==",1],component:"el-input-number",props:{placeholder:"偏移分钟"},onChange:W},_endPickerRelated:{value:"",label:null,span:12,ignore:!0,vshow:["_endPickerType","==",2],component:"el-input",props:{placeholder:"字段名"},onChange:W},_pickerStep:{value:new Date(2016,9,10,0,30),label:"间隔时间",ignore:!0,component:"el-time-picker",styleWidth:"100%",props:{format:"HH:mm"},onChange:function(e,l){var t=Object.assign({},e.pickerOptions,{step:T(l.getHours())+":"+T(l.getMinutes())});e.pickerOptions=t}},_minTimePickerType:{value:0,label:"最小时间",help:"与最大时间构成一个范围，不在范围的内时间为禁用状态\n与开始/结束时间的不同之处在于时间仍会显示",span:12,ignore:!0,component:"el-select",props:{options:[{value:0,label:"固定"},{value:1,label:"实时"},{value:2,label:"关联"}]},onChange:A},_minTimePickerFixed:{value:"",label:null,span:12,ignore:!0,styleWidth:"100%",vshow:["_minTimePickerType","==",0],component:"el-time-picker",props:{format:"HH:mm"},onChange:A},_minTimePickerCurrent:{value:0,label:null,span:12,ignore:!0,styleWidth:"100%",vshow:["_minTimePickerType","==",1],component:"el-input-number",props:{placeholder:"偏移分钟"},onChange:A},_minTimePickerRelated:{value:"",label:null,span:12,ignore:!0,vshow:["_minTimePickerType","==",2],component:"el-input",props:{placeholder:"字段名"},onChange:A},_maxTimePickerType:{value:0,label:"最大时间",span:12,ignore:!0,component:"el-select",props:{options:[{value:0,label:"固定"},{value:1,label:"实时"},{value:2,label:"关联"}]},onChange:z},_maxTimePickerFixed:{value:"",label:null,span:12,ignore:!0,styleWidth:"100%",vshow:["_maxTimePickerType","==",0],component:"el-time-picker",props:{format:"HH:mm"},onChange:z},_maxTimePickerCurrent:{value:0,label:null,span:12,ignore:!0,styleWidth:"100%",vshow:["_maxTimePickerType","==",1],component:"el-input-number",props:{placeholder:"偏移分钟"},onChange:z},_maxTimePickerRelated:{value:"",label:null,span:12,ignore:!0,vshow:["_maxTimePickerType","==",2],component:"el-input",props:{placeholder:"字段名"},onChange:z}}},B={mini:["bold","italic","underline","strikethrough","formatblock","fontname","fontsize","forecolor","hilitecolor","removeformat","image"],smpile:["bold","italic","underline","strikethrough","formatblock","fontname","fontsize","lineheight","forecolor","hilitecolor","removeformat","image","|","justify","insertunorderedlist","insertorderedlist","indent","outdent","fullscreen"],stand:["bold","italic","underline","strikethrough","formatblock","fontname","fontsize","lineheight","forecolor","hilitecolor","|","justify","insertunorderedlist","insertorderedlist","indent","outdent","link","unlink","emoticons","image","table","baidumap","pagebreak","quickformat","source","fullscreen"],full:["undo","redo","|","bold","italic","underline","strikethrough","formatblock","fontname","fontsize","lineheight","forecolor","hilitecolor","removeformat","selectall","|","cut","copy","plainpaste","wordpaste","paste","flash","media","insertfile","pagebreak","quickformat","/","justifyleft","justifycenter","justifyright","justifyfull","insertorderedlist","insertunorderedlist","indent","outdent","subscript","superscript","|","emoticons","link","unlink","image","table","baidumap","|","anchor","hr","code","template","clearhtml","preview","print","source","fullscreen"]},R=[];function $(e,l){M&&clearTimeout(M),M=setTimeout(function(){e.options=Object.assign({},e.options,l)},500)}B.full.forEach(function(e){"|"!==e&&"/"!==e&&("justifyleft"===e&&R.push("justify"),R.push(e))});var L=["items","height","themeType","urlType","resizeType","mapHtml","filterMode","uploadJson","allowFileManager","fileManagerJson"],U={label:"编辑器",component:"curd-editor",value:"",props:{options:{value:{},hidden:!0,onInit:function(e,l){L.forEach(function(t){t in l&&(e["_"+t]=l[t])}),"newlineTag"in l&&"br"===l.newlineTag&&(e._newlineTag=!0);var t,o=[];["Image","Media","Flash"].forEach(function(e){var n="allow"+e+"Upload";n in l&&!l[n]?t=!0:o.push(e)}),t&&(e._allowUpload=o)}},_items:{value:B.stand,label:"菜单设置",span:18,ignore:!0,component:"curd-options-set",props:{keEditor:!0,keMenus:R,keClass:"ke-toolbar-icon ke-icon-",keSplit:"|",keBreak:"/"},onChange:function(e,l){$(e,{items:l})}},_itemsQuick:{value:"",label:null,span:6,ignore:!0,component:"el-select",styleWidth:"100%",props:{options:[{label:"快填",value:""},{label:"迷你",value:"mini"},{label:"简洁",value:"smpile"},{label:"标准",value:"stand"},{label:"完整",value:"full"}]},onChange:function(e,l){""!=l&&(e._items=B[l])}},_height:{value:400,label:"默认高度",ignore:!0,component:"el-input-number",onChange:function(e,l){$(e,{height:l})}},_themeType:{value:"default",label:"样式风格",ignore:!0,component:"el-select",styleWidth:"100%",props:{options:[{value:"default"}]},onChange:function(e,l){$(e,{themeType:l})}},_urlType:{value:"",label:"资源URL",ignore:!0,component:"el-select",styleWidth:"100%",props:{options:[{label:"保持原样",value:""},{label:"转为相对路径",value:"relative"},{label:"转为绝对路径",value:"absolute"},{label:"转为完整路径(包括domain)",value:"domain"}]},onChange:function(e,l){$(e,{urlType:l})}},syncType:{value:"none",label:"同步模式",component:"el-select",styleWidth:"100%",props:{options:[{label:"提交时同步data",value:"none"},{label:"编辑器失去焦点时同步",value:"blur"},{label:"实时同步",value:"change"}]}},_resizeType:{value:2,label:"缩放控制",ignore:!0,component:"el-select",styleWidth:"100%",props:{options:[{label:"禁止",value:0},{label:"竖向",value:1},{label:"自由",value:2}]},onChange:function(e,l){$(e,{resizeType:l})}},_filterMode:{value:!0,label:"代码过滤",help:"仅保留安全的 HTML 标签，关闭后则允许任何标签",span:10,ignore:!0,component:"el-switch",onChange:function(e,l){$(e,{filterMode:l})}},_newlineTag:{value:!1,label:"回车",labelWidth:"40px",span:14,ignore:!0,component:"el-switch",props:{inactiveText:"<p>",activeText:"<br/>"},onChange:function(e,l){$(e,{newlineTag:l?"br":"p"})}},_allowUpload:{value:["Image","Media","Flash"],label:"允许上传",help:"上传按钮出现在插入图片(音视频/Flash)的弹窗中，关闭则不允许上传",ignore:!0,component:"el-checkbox-group",props:{button:!0,options:[{label:"图片",value:"Image"},{label:"音视频",value:"Media"},{label:"Flash",value:"Flash"}]},onChange:function(e,l){$(e,{allowImageUpload:l.includes("Image"),allowMediaUpload:l.includes("Media"),allowFlashUpload:l.includes("Flash")})}},_uploadJson:{value:"",label:"上传接口",ignore:!0,component:"el-input",vshow:["_allowUpload","notEmpty"],onChange:function(e,l){$(e,{uploadJson:l})}},_allowFileManager:{value:!1,label:"浏览文件",help:"按钮同样出现在插入弹窗中, 通用设置",ignore:!0,component:"el-switch",props:{activeText:"开启"},onChange:function(e,l){$(e,{allowFileManager:l})}},_fileManagerJson:{value:"",label:"上传接口",ignore:!0,component:"el-input",vshow:["_allowFileManager",!0],onChange:function(e,l){$(e,{fileManagerJson:l})}},_mapHtml:{value:"",label:"地图URL",help:"地图插件的 动态地图 是以 iframe 插入的, 填写这个静态 html 的 url\n可自行部署该 html 到支持的服务器上",ignore:!0,component:"el-autocomplete",styleWidth:"100%",props:{suggest:["//malaccas.gitee.io/kindeditor/dist/plugins/baidumap/index.html","//malacca.github.io/kindeditor/dist/plugins/baidumap/index.html"]},onChange:function(e,l){$(e,{mapHtml:l})}},footer:{value:{crawl:"采集远程图片",watermark:"图片加水印"},label:"底部选项",component:"curd-options-set",props:{kvType:!0,ignorNumber:!0,leftTitle:"字段名",rightTitle:"标签文本"},onMake:function(e,l,t,o){var n=e.props.footer,a=o.getFieldData();for(var i in n)l[i]=i in a&&a[i]}}}},H=[m,v,f,{label:"单选框",component:"el-radio-group",value:"",props:{options:{value:[],demoValue:[{label:"选项一",value:1},{label:"选项二",value:2}],label:"选项配置",component:"curd-options-set"},button:{value:!1,label:"展示形式",component:"el-radio-group",props:{button:!0,options:[{label:"单选框",value:!1},{label:"按钮",value:!0}]}},textColor:{value:"#ffffff",label:"激活颜色",span:10,vshow:["button",!0],component:"el-color-picker"},fill:{value:"#409EFF",label:"激活背景",span:14,vshow:["button",!0],component:"el-color-picker"}}},b,g,y.cascader,y.panel,{label:"弹窗选择器",component:"curd-choose",value:"",props:{placeholder:{value:"",label:"占位文本",component:"el-input"},clearable:{value:!1,label:"能否清空",span:10,component:"el-switch"},allowInput:{value:!1,label:"允许输入",span:14,component:"el-switch"},multiple:{value:!1,label:"能否多选",span:10,component:"el-switch"},multipleLimit:{value:0,label:"最多选择",span:14,vshow:["multiple",!0],component:"el-input-number",styleWidth:"110px"},selectIcon:{value:"el-icon-more",label:"尾部图标",component:"curd-choose",props:{allowInput:!0,staticIcon:!0}},staticIcon:{value:!1,label:"数据来源",help:"远程针对数据量较多，或经常变动的数据，若数据少建议直接使用下拉框组件\nICON 则是自动提取当前已加载 css 中的 icon class，支持 elm 和 iconfont css",component:"el-radio-group",props:{button:!0,options:[{label:"远程加载",value:!1},{label:"ICON 图标",value:!0}]}},remoteUrl:{value:"",label:"请求地址",help:"实际请求为： url?pagesize=Int&page=Int&q=String",component:"el-input",vshow:["staticIcon",!1]},credentials:{value:!1,label:"请求配置",help:"开启后会携带 cookie, 若跨域, 请返回正确的 header 头",vshow:["staticIcon",!1],component:"el-switch",props:{activeText:"开启 fetch credentials"}},pageSize:{value:100,label:"每页显示",vshow:["staticIcon",!1],component:"el-input-number"},itemType:{value:0,label:"数据模式",help:"数据项：远程返回数据与下拉框类似，为 [ {label, value}, ... ]，v-model 绑定的值为 {label, value}\n其他三项：远程返回数据为 [String, .....]，v-model 绑定值为 String，但弹窗中展示方式不同",vshow:["staticIcon",!1],component:"el-select",styleWidth:"100%",props:{options:[{label:"文本",value:0},{label:"fontIcon",value:2},{label:"图片",value:3},{label:"数据项",value:1}]}},showPlus:{value:!1,label:"显示新增",vshow:["staticIcon",!1],component:"el-switch",props:{activeText:"选择器中显示新增按钮"}}}},{label:"滑块",component:"el-slider",value:0,props:{min:{value:0,label:"最小值",component:"el-input-number"},max:{value:100,label:"最大值",component:"el-input-number"},step:{value:1,label:"步长",component:"el-input-number"},showTooltip:{value:!0,label:"显示提示",span:14,component:"el-switch"},showStops:{value:!1,label:"显示断点",span:10,component:"el-switch"},marks:{value:{},label:"特殊标记",component:"curd-options-set",props:{kvType:!0,ignorNumber:!0,leftTitle:"数值",rightTitle:"提示文字"}},range:{value:!1,label:"范围选择",span:10,component:"el-switch",onChange:function(e,l){e.showInput&&(e.showInput=!1)}},showInput:{value:!1,label:"输入框",span:8,labelWidth:"44px",vshow:["range",!1],component:"el-switch"},showInputControls:{value:!0,label:"按钮",span:6,labelWidth:"32px",vshow:["showInput",!0],component:"el-switch"}}},{label:"布尔开关",component:"el-switch",value:!1,props:{activeText:{value:"",label:"打开文字",span:17,component:"el-input",styleWidth:"90%"},activeColor:{value:"#409EFF",label:"背景色",labelWidth:"56px",span:7,component:"el-color-picker"},inactiveText:{value:"",label:"关闭文字",span:17,component:"el-input",styleWidth:"90%"},inactiveColor:{value:"#C0CCDA",label:"背景色",labelWidth:"56px",span:7,component:"el-color-picker"},width:{value:40,label:"按钮长度",component:"el-input-number",onChange:function(e,l,t,o){o.reCreateFiled()}}}},C,{label:"颜色拾取",component:"el-color-picker",value:"",props:{showAlpha:{value:!1,label:"支持透明",component:"el-switch"},colorFormat:{value:"hex",label:"颜色格式",component:"el-select",props:{options:[{value:"hsl"},{value:"hsv"},{value:"hex"},{value:"rgb"}]}},predefine:{value:[],label:"预置颜色",component:"el-select",props:{multiple:!0,filterable:!0,allowCreate:!0,clearable:!0,options:[{value:"#ff4500"},{value:"#ff8c00"},{value:"#ffd700"},{value:"#90ee90"},{value:"#00ced1"},{value:"#1e90ff"},{value:"#c71585"}]}}}},S,N,D,U,{label:"树形制作器",component:"curd-tree-set",value:[],props:{max:{value:0,label:"最多级数",component:"el-input-number",props:{min:0}}}}],V=["value","demoValue","ignore","onInit","onNameChange","onMake"],G=[{name:"label",label:"标签文本",component:"el-input"},{name:"labelWidth",label:"标签宽度",span:15,styleWidth:"90%",component:"el-input",help:"需要包含单位，如 100px 或 10%\n不设置则继承表单属性"},{name:"labelDisable",label:null,span:9,component:"el-switch",props:{activeText:"隐藏标签"}},{name:"span",label:"默认栅格",component:"el-slider",props:{min:1,max:24,marks:{12:""}}},{name:"xspan",label:"窄版栅格",help:"屏幕宽度小于 768px 时的栅格数",component:"el-slider",props:{min:1,max:24,marks:{12:""}}},{name:"styleWidth",label:"组件宽度",span:15,styleWidth:"90%",component:"el-input",help:"需要包含单位，如 100px 或 10%\n不设置则使用组件默认宽度"},{name:"required",label:null,span:9,component:"el-switch",props:{activeText:"必填字段"}},{name:"reqmsg",label:"必填提示",component:"el-input",props:{placeholder:"可留空"},vshow:["required","true"]},{name:"help",label:"帮助信息",component:"el-input",props:{type:"textarea"}},{name:"vshow_left",label:"显示条件",help:"当前字段可按条件显示, 由其他字段的值决定\n字段名(如:type), 判断条件(如:==),  值(如:3)",span:12,component:"el-input",onChange:!0},{name:"vshow_center",label:null,span:6,component:"el-select",styleWidth:"100%",props:{placeholder:"...",options:[{value:"=="},{value:"==="},{value:"!="},{value:"!=="},{value:">"},{value:">="},{value:"<"},{value:"<="},{value:"in"},{value:"notIn"},{value:"has"},{value:"notHas"},{value:"empty"},{value:"notEmpty"},{value:"true"},{value:"false"}]},onChange:!0},{name:"vshow_right",label:null,span:6,component:"el-input",onChange:!0},{value:[],name:"regexes",label:"正则校验",component:"curd-options-set",props:{needLable:!0,ignorNumber:!0,leftTitle:"正则表达式",rightTitle:"错误提示",showRegex:!0}}],J=[{name:"_name",label:"字段名",component:"el-input",props:{disabled:!0}}].concat(G),q=[{name:"_name",label:"字段名",component:"el-input",onChange:!0}].concat(G),K={labelWidth:"",labelDisable:!1,span:24,xspan:24,help:"",required:!1,reqmsg:null,styleWidth:"",vshow_left:"",vshow_center:"",vshow_right:"",name:"",label:"",component:""},Z=["labelWidth","labelDisable","help","required","reqmsg","styleWidth"],Q=[{name:"size",value:"medium",label:"表单尺寸",component:"el-radio-group",props:{button:!0,options:[{label:"中等",value:"medium"},{label:"较小",value:"small"},{label:"迷你",value:"mini"}]}},{name:"labelPosition",value:"left",label:"标签位置",component:"el-radio-group",props:{button:!0,options:[{label:"左对齐",value:"left"},{label:"右对齐",value:"right"},{label:"顶部对齐",value:"top"}]}},{name:"labelWidth",value:150,label:"标签宽度",component:"el-input-number",props:{min:0}},{name:"gutter",value:0,label:"栅格间隔",component:"el-input-number",props:{min:0}},{name:"hideRequiredAsterisk",value:!1,label:"必填字段",component:"el-switch",props:{activeText:"隐藏红色星号"}},{name:"inlineMessage",value:!1,label:"校验信息",component:"el-switch",props:{activeText:"行内形式展示"}},{name:"disabled",value:!1,label:"禁用表单",component:"el-switch"}],X={name:"CurdMaker",data:function(){return{dragGroup:"dragGroup",fieldGroup:"fieldGroup",mModel:!1,propsTab:"field",fieldIndex:-1,formProps:{},previewShow:!1,previewData:{},previewSource:!1}},props:{editModel:Boolean,blocks:{type:Array,default:function(){return[]}},form:{type:Object,default:{}}},computed:{blockList:function(){return this._blockObject=null,this._blockNameListner=null,H.concat(this.blocks)},formConfig:function(){return Q},basicConfig:function(){if(this.editModel){var e=this.formProps.fields[this.fieldIndex];if(e&&e.oldField)return J}return q},fieldConfig:function(){if(this.fieldIndex<0)return[];var e=[],l=this.formProps.fields[this.fieldIndex]._component,t=this._getBlocksObject();if(!(l in t))return e;var o,n,a,i,r=t[l].props;for(n in r)if(!(o=r[n]).hidden){for(a in i={name:n},o)V.includes(a)||(i[a]=o[a]);e.push(i)}return e}},watch:{form:{immediate:!0,deep:!0,handler:function(e){var l=this,t=JSON.parse(JSON.stringify(e)),o=t.data||{},n={};Q.forEach(function(e){n[e.name]=e.name in t?t[e.name]:e.value});var a={},i=[],r={},s=[],p=this._getBlocksObject();(t.fields||[]).forEach(function(e,t){var n;if(e.name&&e.component){var c=e.name,u="field"+t;a[c]=u;var d=l._copyObject(K,e);d._name=c,d.name=u,d._component=d.component,d.componentName="组件",d.oldField=!0,e.vshow?(n=e.vshow||[],d.vshow_left=n[0],d.vshow_center=n[1],d.vshow_right=n[2],d.vshow=e.vshow):d.vshow=[];var m=[];e.rules.forEach(function(e){m.push({label:e.pattern,value:e.message})}),d.regexes=m;var h="",v=e.props||{},f=[];if(d.component in p){var b,g,_,w=p[d.component];for(b in h=w.value||"",d.componentName=w.label,w.props)g=w.props[b],b in v?_=v[b]:(_=g.value,v[b]=_),g.onInit&&f.push([g.onInit,_])}d.props=v,f.length&&f.forEach(function(e){var t=e[0],o=e[1];s.push(function(){t(d.props,o,d,l)})}),i.push(d),r[u]=c in o?o[c]:h}}),i.forEach(function(e){e.vshow_left&&e.vshow_left in a&&(e.vshow[0]=a[e.vshow_left])}),n.fields=i,n.data=r,this.formProps=n,s.length&&s.forEach(function(e){e()}),this._setStartupField()}}},mounted:function(){this._setStartupField()},methods:{_copyObject:function(e,l){var t={};for(var o in e)t[o]=o in l?l[o]:e[o];return t},_getBlocksObject:function(){if(this._blockObject)return this._blockObject;var e={};return this.blockList.forEach(function(l){e[l.component]=l}),this._blockObject=e,e},_onFieldPropsChange:function(e,l,t){if(!(this.fieldIndex<0)){var o=this.formProps.fields[this.fieldIndex];e(o.props,t,o,this)}},_cloneBlock:function(e){var l,t,o=this,n="field"+this.formProps.fields.length,a=Object.assign({},K,{name:n,_name:n,label:e.label,component:e.component,_component:e.component,componentName:e.label,vshow:[],regexes:[]}),i=[],r={};for(var s in e.props)"object"==typeof(t=(l=e.props[s]).demoValue||l.value)&&(t=JSON.parse(JSON.stringify(t))),r[s]=t,l.onInit&&i.push([l.onInit,t]);return a.props=r,i.length&&i.forEach(function(e){var l=e[0],t=e[1];l(r,t,a,o)}),this.__willAddData={name:n,value:e.value},a},_dragBlockEnd:function(e){"curd-maker-blocks"!==e.to.className&&this.$refs.design._clickField(e.newIndex)},_setStartupField:function(){this.$refs.design&&this.$refs.design._clickField(this.formProps.fields.length?0:-1)},_onFieldUpdate:function(){if(this.__willAddData){var e=this.__willAddData,l=e.name,t=e.value,o="object"==typeof t?JSON.parse(JSON.stringify(t)):t;return this.addFieldData(l,o),void(this.__willAddData=null)}},_onFieldClick:function(e,l){this.fieldIndex=e},_onFieldDragEnd:function(e){if(e&&this.$refs.design){var l=null;if(e.from.className!==e.to.className)l=this.formProps.fields.length?0:-1;else{var t=this.$refs.design.designFieldIndex;e.oldIndex===t?l=e.newIndex:e.oldIndex<t&&e.newIndex>=t?l=t-1:e.oldIndex>t&&e.newIndex<=t&&(l=t+1)}null!==l&&this.$refs.design._clickField(l,!0)}},_onFieldVshowChange:function(e,l,t){var o=this;if(!(this.fieldIndex<0)){var n=this.formProps.fields,a=n[this.fieldIndex];if("_name"!==l)if(a.vshow_left&&a.vshow_center){var i,r;for(i=0;i<n.length;i++)if(n[i]._name===a.vshow_left){r=n[i].name;break}r&&(a.vshow=[r,a.vshow_center,a.vshow_right])}else a.vshow=[];else{n.forEach(function(e){e.vshow_left&&e.vshow_center&&e.vshow_left===t&&(e.vshow=[a.name,e.vshow_center,e.vshow_right])});var s=this._getBlocksNameListeners();this.formProps.fields.forEach(function(e){if(e.component in s){var l,t,n=s[e.component];for(l in n)(0,n[l])(t=e.props,t[l],e,o)}})}}},_getBlocksNameListeners:function(){if(this._blockNameListner)return this._blockNameListner;var e={};return this.blockList.forEach(function(l){var t,o,n=l.props,a={};for(t in n)(o=n[t]).onNameChange&&(a[t]=o.onNameChange);Object.keys(a).length&&(e[l.component]=a)}),this._blockNameListner=e,e},getFieldTmpName:function(e){var l=this.formProps.fields.find(function(l){return l._name===e});return l?l.name:null},getNativeData:function(e){var l=this.form.data||{};return e?l[e]:l},getFieldData:function(e){return e?this.formProps.data[e]:this.formProps.data},addFieldData:function(e,l){var t={};t[e]=void 0===l?"":l,this.formProps.data=Object.assign({},this.formProps.data,t)},removeFieldData:function(e){if(e in this.formProps.data){var l=Object.assign({},this.formProps.data);delete l[e],this.formProps.data=l}},reCreateFiled:function(){if(!(this.fieldIndex<0)){var e=this.formProps.fields[this.fieldIndex];e.component=null,this.$nextTick(function(){e.component=e._component})}},getForm:function(e){var l=this,t={},o=[],n=this.formProps.data,a=this._getBlocksObject();this.formProps.fields.forEach(function(i){if(i.component in a){t[i._name]=n[i.name];var r=a[i.component],s=l._getFormFieldConfig(i,e);l._setFormFieldProps(r,i,s,t,e),o.push(s)}});var i={};return Q.forEach(function(e){var t=e.name;i[t]=l.formProps[t]}),i.fields=o,i.data=t,i},_getFormFieldConfig:function(e,l){var t={name:e._name};e.span!==e.xspan?(t.span=e.span,t.xspan=e.xspan):24!==e.span&&(t.span=e.span),Z.forEach(function(o){(l||e[o]!==K[o])&&(t[o]=e[o])}),e.vshow_left&&e.vshow_center&&(t.vshow=[e.vshow_left,e.vshow_center,e.vshow_right]);var o=[];return e.regexes.forEach(function(e){o.push({pattern:e.label,message:e.value,trigger:"blur"})}),t.label=e.label,t.component=e.component,t.props={},o.length&&(t.rules=o),t},_setFormFieldProps:function(e,l,o,n,a){var i,r,s=o.props,p=l.props,c=e.props;if(!a){var u={};for(i in c)(r=c[i]).vshow&&(u[i]=r.vshow);var d={};for(i in c)t.curdVshow(p,u,i)&&(d[i]=c[i]);c=d}for(i in c)(r=c[i]).ignore||((a||p[i]!==r.value)&&(s[i]=p[i]),r.onMake&&r.onMake(o,n,l,this))},clear:function(){var e=this;this.$admin.confirm("确定要清空？").then(function(){e.formProps=Object.assign({},e.formProps,{fields:[],data:{}}),e._setStartupField()})},preview:function(){this.previewData=JSON.parse(JSON.stringify(this.formProps.data)),this.previewShow=!0},_onPreviewSubmit:function(e){console.log("onSubmit",e)},_closePreview:function(){this.previewShow=!1},_togglePreview:function(){this.previewSource?this.previewSource=!1:this.previewSource=JSON.stringify(this.getForm(),null," ")},built:function(){var e=this.getForm(),l=e.data;delete e.data;var t='<template>\n    <div class="app-form">\n        <curd-form v-bind="form" :data="data" ref="curdForm" @submit="onSubmit"/>\n    </div> \n</template>\n<script>';t+="\nimport 'vct!curd';\n",t+="export default {\n    data(){\n        return {\n            form:"+(e=JSON.stringify(e))+",\n            data:"+(l=JSON.stringify(l))+"\n        }\n    },\n    methods:{\n        onSubmit(data){\n            console.log(data)\n            this.$refs.curdForm.submitLoad();\n            setTimeout(() => {\n                this.$refs.curdForm.submitDone();\n            }, 1200)\n        }\n    }\n}",t+="\n<\/script>";var o=new Blob([t],{type:"text/vue"}),n=document.createElement("a"),a=URL.createObjectURL(o);n.href=a,n.download="form.vue",n.click(),setTimeout(function(){window.URL.revokeObjectURL(a)},0)}}},Y=(0,l.n)({render:function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("div",{staticClass:"curd-maker-wrap"},[t("div",{staticClass:"curd-maker-left curd-maker-layout"},[e._m(0),t("div",{staticClass:"curd-maker-scroll app-thin-scroll"},[t("draggable",{staticClass:"curd-maker-blocks",attrs:{list:e.blockList,sort:!1,animation:0,group:{name:e.dragGroup,pull:"clone",put:!1},clone:e._cloneBlock},on:{end:e._dragBlockEnd}},e._l(e.blockList,function(l,o){return t("div",{key:"fb"+o,staticClass:"curd-maker-item"},[e._v(e._s(l.label))])}),0)],1)]),t("div",{staticClass:"curd-maker-center curd-maker-layout"},[t("div",{staticClass:"curd-maker-title"},[t("div",{staticClass:"curd-maker-title-item"},[t("el-switch",{staticClass:"curd-maker-mmodel",attrs:{width:60,"active-text":"宽版","inactive-text":"窄版"},model:{value:e.mModel,callback:function(l){e.mModel=l},expression:"mModel"}}),t("div",{staticClass:"curd-maker-trash"},[t("draggable",{staticClass:"curd-maker-trash-drag",attrs:{group:{put:[e.fieldGroup]}}},[t("div",{staticClass:"curd-maker-trash-icon el-icon-delete-solid"})])],1)],1),e._t("tools",[t("span",[t("el-button",{attrs:{type:"text"},on:{click:e.clear}},[e._v("清空")]),t("el-button",{attrs:{type:"text"},on:{click:e.preview}},[e._v("预览")]),t("el-button",{attrs:{type:"text"},on:{click:e.built}},[e._v("导出")])],1)])],2),t("div",{class:"curd-maker-scroll app-thin-scroll"+(e.mModel?" curd-maker-narrow":"")},[t("curd-form",e._b({ref:"design",attrs:{"validate-on-rule-change":!1,designMode:!0,forceXspan:e.mModel,dragGroup:e.dragGroup,fieldGroup:e.fieldGroup,onFieldUpdate:e._onFieldUpdate,onFieldClick:e._onFieldClick,onFieldDragEnd:e._onFieldDragEnd}},"curd-form",e.formProps,!1)),e.formProps.fields.length?e._e():t("div",{staticClass:"curd-maker-wait"},[e._v("将左侧组件拖拽到这里")])],1)]),t("el-tabs",{staticClass:"curd-maker-right curd-maker-layout",model:{value:e.propsTab,callback:function(l){e.propsTab=l},expression:"propsTab"}},[t("el-tab-pane",{staticClass:"curd-maker-scroll app-thin-scroll",attrs:{label:"组件属性",name:"field"}},[e.fieldIndex>=0&&e.formProps.fields.length>e.fieldIndex?[t("curd-form",{staticClass:"curd-maker-sform",attrs:{size:"small",fields:e.basicConfig,data:e.formProps.fields[e.fieldIndex],labelWidth:76,onFieldChange:e._onFieldVshowChange},scopedSlots:e._u([{key:"footer",fn:function(){return[t("el-col",[t("el-form-item",{attrs:{label:"默认值"}},[t("el-input",{attrs:{clearable:""},model:{value:e.formProps.data[e.formProps.fields[e.fieldIndex].name],callback:function(l){e.$set(e.formProps.data,e.formProps.fields[e.fieldIndex].name,l)},expression:"formProps.data[formProps.fields[fieldIndex].name]"}})],1)],1)]},proxy:!0}],null,!1,680098688)}),t("el-divider",{attrs:{"content-position":"center"}},[e._v(e._s(e.formProps.fields[e.fieldIndex].componentName)+"属性")]),t("curd-form",{staticClass:"curd-maker-sform",attrs:{size:"small",fields:e.fieldConfig,data:e.formProps.fields[e.fieldIndex].props,labelWidth:76,onFieldChange:e._onFieldPropsChange}})]:e._e()],2),t("el-tab-pane",{staticClass:"curd-maker-scroll app-thin-scroll",attrs:{label:"表单属性",name:"form"}},[t("curd-form",{attrs:{fields:e.formConfig,data:e.formProps,labelWidth:70,size:"small"}})],1)],1),e.previewShow?t("div",{staticClass:"curd-maker-preview"},[t("i",{staticClass:"el-icon-error curd-maker-preview-close",on:{click:e._closePreview}}),t("i",{staticClass:"el-icon-document curd-maker-preview-close curd-maker-preview-source",on:{click:e._togglePreview}}),t("div",{staticClass:"app-form"},[e.previewSource?t("pre",{staticClass:"curd-maker-preview-code"},[e._v(e._s(e.previewSource))]):t("curd-form",e._b({ref:"previewForm",attrs:{data:e.previewData},on:{submit:e._onPreviewSubmit}},"curd-form",e.formProps,!1))],1)]):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,l=this._self._c||e;return l("div",{staticClass:"curd-maker-title"},[l("h3",[this._v("表单组件")])])}]},function(e){e&&e("data-v-b75c8c94_0",{source:'.curd-maker-wrap{width:100%;height:100%;display:flex;position:relative}.curd-maker-layout{display:flex;flex-direction:column}.curd-maker-layout .el-tabs__content{flex:1;display:flex}.curd-maker-scroll{flex:1;overflow:auto}.curd-maker-title{width:100%;height:40px;padding:0 15px;box-sizing:border-box;display:flex;align-items:center;justify-content:space-between;border-bottom:2px solid #e4e7ed}.curd-maker-title h3{font-size:14px;font-weight:400;margin:0}.curd-maker-title-item{display:flex;align-items:center}.curd-maker-mmodel .el-switch__core{height:24px;border-radius:12px}.curd-maker-mmodel .el-switch__core:after{width:20px;height:20px}.curd-maker-mmodel .el-switch__label *{font-size:12px}.curd-maker-mmodel .el-switch__label--left{margin-right:-33px;z-index:2;color:#fff;width:24px;padding-left:9px;display:none}.curd-maker-mmodel .el-switch__label--right{margin-left:-33px;z-index:2;color:rgba(0,0,0,.4)}.curd-maker-mmodel.is-checked .el-switch__core::after{margin-left:-20px}.curd-maker-mmodel.is-checked .el-switch__label--left{display:block}.curd-maker-mmodel.is-checked .el-switch__label--right{display:none}.curd-maker-trash{width:26px;height:26px;margin-left:22px;position:relative}.curd-maker-trash-drag,.curd-maker-trash-drag .el-col,.curd-maker-trash-icon{position:absolute;width:100%;height:100%;left:0;top:0}.curd-maker-trash-drag .el-col,.curd-maker-trash-icon{border:1px dotted #ced1d5;color:#858d96;align-items:center;justify-content:center;display:flex;border-radius:4px;font-size:1.25em;box-sizing:border-box}.curd-maker-trash-drag .el-col{z-index:2;font-family:element-icons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;vertical-align:baseline;-webkit-font-smoothing:antialiased;transition:transform 0s!important;color:#fff;background:red;border-color:red}.curd-maker-trash-drag .el-form-item{display:none}.curd-maker-trash-drag .el-col::after{content:"\\e7c9"}.curd-maker-left{width:240px;border-right:1px solid #e4e7ed}.curd-maker-blocks{width:100%;float:left;box-sizing:border-box;min-height:100%;padding-bottom:20px}.curd-maker-blocks .curd-maker-item{float:left;width:44%;margin-left:4%;line-height:1;box-sizing:border-box;margin-top:10px;padding:10px 0 10px 10px;border-radius:4px;font-size:14px;color:#303133;cursor:move;user-select:none;background:#f6f6f6;border:1px solid #f6f6f6;transition:transform 0s!important}.curd-maker-blocks .curd-maker-item:hover{border:1px dashed #8090a9;color:#2f445f}.curd-maker-center{flex:1;position:relative}.curd-maker-wait{position:absolute;width:100%;height:100%;left:0;top:0;display:flex;justify-content:center;align-items:center;color:#ccc;pointer-events:none}.curd-elform-design{display:flex;padding:15px;box-sizing:border-box;flex-direction:column;min-height:100%}.curd-elform-design .el-row{flex:1;display:flex;flex-direction:column}.curd-elform-design .curd-tree-set{background:#fff}.curd-elform-draggable{flex:1}.curd-elform-draggable .el-cascader-panel{background:#fff}.curd-elform-draggable .sortable-chosen{background:#f8f8f8}.curd-elform-draggable .curd-maker-active{background:#e9f4ff}.curd-elform-draggable .curd-maker-item{float:left;width:100%;height:60px;padding:0 0 22px 10px;display:flex;align-items:center;font-size:14px;box-sizing:border-box;background:#f6f6f6;color:#2f445f;border:1px dashed #8090a9}.curd-maker-shadow{opacity:.5}.curd-maker-narrow{text-align:center;background:#f5f5f5}.curd-maker-narrow .curd-elform-design{width:640px;text-align:left;margin:15px auto;border:1px solid #e4e4e4;border-radius:6px;background:#fff}.curd-maker-right{flex-shrink:0;width:350px;border-left:1px solid #e4e7ed}.curd-maker-right .el-tabs__header{margin:0}.curd-maker-right .el-tabs__nav{width:100%}.curd-maker-right .el-tabs__item{padding:0;width:50%;text-align:center}.curd-maker-right .curd-elform{padding:15px}.curd-maker-right .el-divider{margin-top:0}.curd-maker-right .el-divider__text{color:#999}.curd-maker-right .curd-tree-set{padding:8px}.curd-maker-sform .el-form-item__label{padding-right:0}.curd-maker-preview{position:absolute;width:100%;height:100%;background:#fff;left:0;top:0;z-index:1003;overflow:auto}.curd-maker-preview-code{color:#999}.curd-maker-preview-close{position:absolute;z-index:2;top:10px;right:10px;font-size:1.5em;color:#c1c1c1}.curd-maker-preview-close:hover{color:#666}.curd-maker-preview-source{right:45px}',map:void 0,media:void 0})},X,void 0,!1,void 0,!1,l.c,void 0,void 0);return{curdOptionsSet:i,curdMaker:Y,install:function(e,l){[i,Y].forEach(function(l){e.component(l.name,l)})}}});