!function(){var e="",t="",n=!1;function r(e){return fetch(e).then(function(t){if(200!==t.status)throw"resolve import["+e+"] failed";return t.text()}).then(function(e){var t=new Blob([e],{type:"text/javascript"});return URL.createObjectURL(t)})}function i(e){return r(e).then(function(e){return import(e).then(function(e){return e.default})})}function a(){this.code=null,this.text=null,this.headers={},this.payload=null}a.prototype={status:function(e,t){return this.code=e,this.text=t,this},header:function(e,t){return"object"==typeof e?this.headers=Object.assign({},this.headers,e):this.headers[e]=t,this},send:function(e){return this.payload=e,this}};var o={},s=!1;function l(e){return Object.entries(e).forEach(function(e){var t=e[0],n=e[1],r=t.split(" ").filter(function(e){return e}).slice(0,2),i=r.length>1?r[0].toUpperCase():"_",a=r.length>1?r[1]:r[0];i in o||(o[i]={}),o[i][u(a)?a:c(a)]=n}),o}function u(e){return/^(http:\/\/|https:\/\/|\/\/)/i.test(e)}function c(e){return"/"+e.replace(/([^:]\/)\/+/g,"$1").replace(/^\//g,"")}function p(e,t,n){return n=n||{},Object.keys(Request.prototype).forEach(function(t){n[t]=e[t]}),delete n.url,e.blob().then(function(r){var i=e.method.toUpperCase();return"HEAD"!==i&&"GET"!==i&&r.size>0&&(n.body=r),new Request(t,n)})}function d(e,t,n){var r={};t&&(t.code&&(r.status=t.code),t.text&&(r.statusText=t.text),t.headers&&(r.headers=t.headers));var i=new Response(JSON.stringify(e),r);return"number"!=typeof n||n<1?i:new Promise(function(e){setTimeout(function(){e(i)},n)})}function h(e,r){return function(e,r){return n?e instanceof Request?"_url"in e&&!u(e._url)?p(e,t+c(e._url),r).then(function(e){return fetch(e)}):fetch(e,r):fetch(u(e)?e:t+c(e),r):new Promise(function(e,t){return s?e(o):i("mock.js").catch(function(){return{}}).then(function(t){return s=!0,l(t),e(o)})}).then(function(n){var i,a,o;return e instanceof Request?"_url"in e&&!u(e._url)?(a=c(e._url),p(e,t+a,r).then(function(e){return{data:n,url:a,request:e}})):(a=e.url,o=new Request(e,r),{data:n,url:a,request:o}):(i=u(e),a=i?e:c(e),o=new Request(i?a:t+a,r),{data:n,url:a,request:o})}).then(function(e){var t=e.data,n=e.url,r=e.request,i=r.method,o=i in t&&n in t[i]?t[i][n]:"_"in t&&n in t._?t._[n]:null;if(!o)return fetch(r);var s=o,l=0;if(Array.isArray(s)&&2===s.length&&"number"==typeof s[1]&&(l=s[1],s=s[0]),"function"!=typeof s)return d(s,null,l);var u=new a;return Promise.resolve(s(r,u)).then(function(){return d(u.payload,u,l)})})}(e,r)}var f=0,m={},v={},g=/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,b=/(import\s+(.*\s+from\s)?['"])([^"')]+)(['"]\s?\;)/gi,_=/(import\s+['"])([^"')]+)(['"]\s?\;)/gi;function y(e,t){var n=e.split("/"),r=t.split("/");n.pop();for(var i=0;i<r.length;i++)"."!=r[i]&&(".."==r[i]?n.pop():n.push(r[i]));return n.join("/")}function x(t,n){var r=t[0];return"@"===r?e+t.substr(1).replace(/^\//g,""):"."===r?y(n,t):t}function w(e){if(!(e in m))return!1;var t=m[e],n="";t.url&&(n+="import s from '"+t.url+"';\n"),t.template&&(n+="s.template = "+JSON.stringify(t.template)+";\n"),n+="export default s;";var r=new Blob([n],{type:"text/javascript"}),i=URL.createObjectURL(r);return delete m[e],v[e]=i,i}function $(e){return A(e).then(function(){var t=w(e);if(!t)throw"resolve "+e+" failed";return t})}function O(e){return r(e).then(function(t){return v[e]=t,t})}function k(e,t){var n=function(e){return e in v&&new Promise(function(t,n){t(v[e])})}(e=y(t,e));return n||((n=w(e))||function(e){var t=e.toLowerCase();return t.endsWith(".js")||t.endsWith(".mjs")?O(e):t.endsWith(".vue")?$(e):$(e+".vue").catch(function(){return O(e+".js")})}(e))}function D(e){this.code=e}function E(e,t){this.component=e,this.content=t,this.import=null}function R(e,t){this.component=e,this.content=t}D.prototype={compile:function(){if(n)return Promise.resolve();var e=new Blob([this.code],{type:"text/javascript"});return i(URL.createObjectURL(e)).then(function(e){return l(e)})}},E.prototype={compile:function(){return function(e,t){var n=0,r=[];e=e.replace(g,"$1").replace(b,function(e,t,i,a,o){var s="__$VUE_IMPORT_MODULE_"+n+"__";return r.push({index:n,src:a,lib:!i,code:t+"{~src~}"+o}),n++,s});var i=[],a=[];return r.forEach(function(e){var n,r=e.index,o=e.src,s=e.lib,l=e.code;n=s?o.startsWith("lib!")?new Promise(function(e,t){require([o],function(t){i.push({index:r,url:""}),e(t)},function(e){t("load global ["+o+"] failed")})}):Promise.reject("global lib ["+o+'] should start with "lib!"'):k(o,t).then(function(e){i.push({index:r,url:l.replace("{~src~}",e)})}),a.push(n)}),Promise.all(a).then(function(t){i.forEach(function(t){var n=t.index,r=t.url;e=e.replace("__$VUE_IMPORT_MODULE_"+n+"__",r)});var n=new Blob([e],{type:"text/javascript"});return URL.createObjectURL(n)})}(this.content,this.component.baseURI).then(function(e){return this.import=e,this}.bind(this))}},R.prototype={compile:function(){var e=this;return Object.entries({video:["src","poster"],source:"src",img:"src",image:["xlink:href","href"],use:["xlink:href","href"]}).forEach(function(t){var n=t[0],r=t[1];Array.isArray(r)?r.forEach(function(t){e.assetUrl(n,t)}):e.assetUrl(n,r)}),Promise.resolve()},assetUrl:function(e,t){var n=this.component.baseURI,r=new RegExp("(<"+e+".+"+t+"=s*['\"]?)([^\"']+)([\"']?.+>)","gi");this.content=this.content.replace(r,function(e,t,r,i){return t+x(r,n)+i})}};var j=[/(url\(\s*['"]?)([^"')]+)(["']?\s*\))/g,/(AlphaImageLoader\(\s*src=['"]?)([^"')]+)(["'])/g];function P(e,t,n,r){this.component=e,this.content=t,this.scoped=n,this.less=r}function S(e){this.name=e,this.template=null,this.script=null,this.mock=null,this.styles=[],this.baseURI="",this.sfcUrl="",this._scopeId="data-s-"+(f++).toString(36)}function A(e){var t=e.match(/(.*?)([^\/]+?)\/?(\.vue)?(\?.*|#.*|$)/),n=t[2];return e=t[1]+t[2]+(void 0===t[3]?"/index.vue":t[3])+t[4],new S(n).load(e).then(function(e){return e.compile()}).then(function(t){var r=t.script?t.script.import:null,i=t.template?t.template.content:null;if(m[e]={name:n,url:r,template:i},r)return import(r).then(function(e){var n=e.default;return void 0===n.name&&void 0!==t.name&&(n.name=t.name),i&&(n.template=i),n});var a={};return void 0!==t.name&&(a.name=t.name),i&&(a.template=i),a})}P.prototype={compile:function(){var e=this;return new Promise(function(t,n){if(!e.less)return t(e.content);require(["less.browser"],function(n){var r=e.component.baseURI,i=e.content.replace(g,"$1").replace(_,function(e,t,n,i){return t+x(n,r)+i});n.render(i,function(n,r){if(n)throw n.message+" @["+e.component.sfcUrl+"]";t(r.css)})})}).then(function(t){return e.parse(t)})},parse:function(e){var t=this.component.baseURI;j.forEach(function(n){e=e.replace(n,function(e,n,r,i){return n+x(r,t)+i})}),this.content=e;var n=document.createElement("style");n.appendChild(document.createTextNode(e)),this.component.getHead().appendChild(n),this.scoped&&this.scopeStyles(n,"["+this.component._scopeId+"]")},scopeStyles:function(e,t){function n(){for(var n=e.sheet,r=n.cssRules,i=0;i<r.length;++i){var a=r[i];if(1===a.type){var o=[];a.selectorText.split(/\s*,\s*/).forEach(function(e){o.push(t+" "+e);var n=e.match(/([^ :]+)(.+)?/);o.push(n[1]+t+(n[2]||""))});var s=o.join(",")+a.cssText.substr(a.selectorText.length);n.deleteRule(i),n.insertRule(s,i)}}}try{n()}catch(t){if(t instanceof DOMException&&t.code===DOMException.INVALID_ACCESS_ERR)return e.sheet.disabled=!0,void e.addEventListener("load",function t(){e.removeEventListener("load",t),setTimeout(function(){n(),e.sheet.disabled=!1})});throw t}}},S.prototype={getHead:function(){return document.head||document.getElementsByTagName("head")[0]},load:function(e){return fetch(e).then(function(t){if(200!==t.status){var n=new Error("resolve "+e+" failed");throw n.code=404,n}return t.text()}).then(function(t){var n,r,i;this.sfcUrl=e,this.baseURI=e.substr(0,e.lastIndexOf("/")+1),(n=t.match(/<template([^>]+)?>([\s\S]*)<\/template>/i))&&(this.template=new R(this,"<span "+this._scopeId+">"+n[2]+"</span>"));for(var a,o,s=/<script([^>]+)?>([\s\S]*?)<\/script>/gim;null!==(n=s.exec(t));)n[1]&&n[1].indexOf("mock")>-1?r=n[2]:i=n[2];i&&(this.script=new E(this,i)),r&&(this.mock=new D(r));for(var l=/<style([^>]+)?>([\s\S]*?)<\/style>/gim;null!==(n=l.exec(t));)a=o=!1,n[1]&&(a=n[1].indexOf("scoped")>-1,o=n[1].indexOf("less")>-1),this.styles.push(new P(this,n[2],a,o));return this}.bind(this))},compile:function(){return Promise.all(Array.prototype.concat(this.script&&this.script.compile(),this.mock&&this.mock.compile(),this.template&&this.template.compile(),this.styles.map(function(e){return e.compile()}))).then(function(){return this}.bind(this))}};var C,L,T,I,z=document,U=z.head||z.getElementsByTagName("head")[0]||z.documentElement,q=U.getElementsByTagName("base")[0],F="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase()),M=function(e){q?U.insertBefore(e,q):U.appendChild(e)},N=null,B=null,H="",W="",J=function(e,t){H=e,W=t},V=function(){return B||H},G=function(e,t){return e.replace(/\/$/g,"")+(t?"/":"")},K=function(e,t){return h(e,t)},Q=function(){for(var e,t,n=z.getElementsByTagName("script"),r=n.length,i=0,a=void 0,o=void 0;i<r;i++)if(o=(a=n[i]).getAttribute("data-main")){e=o,(o=a.getAttribute("base-url"))&&(t=o),(o=a.getAttribute("api-url"))&&(B=o.replace(/\/$/g,"")),(o=a.getAttribute("lib-url"))&&(N=o.replace(/\/$/g,""));break}if(!t){var s=e.split("/");s.pop(),t=s.join("/")}var l=document.createElement("a");return l.href=t,G(l.href,!0)}();(C=z.getElementById("app_loader"))?(L=C.tagName,T=C.className,I=C.innerHTML):(L="DIV",I="<center>loading...</center>");var X={functional:!0,render:function(e){return e(L,{class:T,domProps:{innerHTML:I}})}},Y={},Z=function(e){return function(e,t){return ee(e,t)}},ee=function(e,t){var n=F?t.media||"default":e,r=Y[n]||(Y[n]={ids:new Set,styles:[]});if(!r.ids.has(e)){r.ids.add(e);var i=t.source;if(""!==Q&&(i=i.replace(/(url\(\s*['"]?)(.*)\)/gim,function(e,t,n){return n.startsWith("data:")?e:t+Q+n+")"})).indexOf("AlphaImageLoader")>-1&&(i=i.replace(/(AlphaImageLoader\(\s*src=['"]?)/g,"$1"+Q)),r.element||(r.element=z.createElement("style"),r.element.type="text/css",t.media&&r.element.setAttribute("media",t.media),M(r.element)),"styleSheet"in r.element)r.styles.push(i),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{var a=r.ids.size-1,o=z.createTextNode(i),s=r.element.childNodes;s[a]&&r.element.removeChild(s[a]),s.length?r.element.insertBefore(o,s[a]):r.element.appendChild(o)}}},te=function(e,t,n,r,i,a,o){var s="function"==typeof n?n.options:n;if(e&&e.render&&(s.render=e.render,s.staticRenderFns=e.staticRenderFns,s._compiled=!0,i&&(s.functional=!0)),r&&(s._scopeId=r),t){var l=function(e){t.call(this,o(e))};if(s.functional){var u=s.render;s.render=function(e,t){return l.call(t),u(e,t)}}else{var c=s.beforeCreate;s.beforeCreate=c?[].concat(c,l):[l]}}return n};define("vue.utils",[],{m:Q,n:te,s:Z});var ne,re,ie,ae=null,oe=null,se=null,le=function(e,t,n){var r=z.createElement("link");null===ae&&(oe=!(ae="onload"in r)&&"onreadystatechange"in r,se="onerror"in r),ae?r.onload=function(){t()}:oe?r.onreadystatechange=function(){/loaded|complete/.test(r.readyState)&&t()}:t(),se&&(r.onerror=function(){U.removeChild(r),n()}),r.rel="stylesheet",r.href=e+".css",M(r)},ue=function(e,t){if(!Array.isArray(e))return le(e,t,t);if(e.length){var n=e.shift();le(n,t,function(){ue(e,t)})}else t()},ce=function(e,t,n){define("lib",{normalize:function(e){var t=e.indexOf("?");return t>-1?e.substr(0,t):e},load:function(r,i,a,o){var s=function(t){t&&("install"in t&&"function"==typeof t.install?e.use(t):"name"in t&&"string"==typeof t.name&&"render"in t&&"function"==typeof t.render?e.component(t.name,t):"default"in t&&"install"in t.default&&"function"==typeof t.default.install&&e.use(t.default)),a(t)};if(r in n){var l=n[r];"css"in l?ue(l.css,function(){i(l.js,s)}):i(l.js,s)}else i([N?N+"/"+r+".js":G(t)+"/"+r],s)}})},pe=function(e){re=e};pe(function(e){var t=new Error("can't load["+e+"]");return t.code=404,Promise.reject(t)});var de=null,he=null,fe=!1,me=!1,ve=function(e,t){de=e,he=t},ge=function(e){ie={name:"AppError",extends:e,props:{type:{default:0},code:{default:404},text:{default:null}}}};ge({render:function(e,t){return e("div",{},["Error - "+this.code])}});var be,_e,ye,xe={functional:!0,render:function(e,t){var n=t.data,r="props"in n&&n.props||{};return me?(r.type=2,r.code=de,r.text=he):(r.type=0,r.code=404,r.text=null),n.props=r,e(ie,n)}},we={},$e={functional:!0,render:function(e,t){var n=t.data,r="props"in n&&n.props||{},i=ne.$route.path;return r.type=1,fe?(fe=!1,r.code=de,r.text=he,we[i]={c:de,t:he}):i in we?(r.code=we[i].c,r.text=we[i].t):(r.code=600,r.text=null),n.props=r,e(ie,n)}},Oe=function(e,t){return re(e).then(function(t){if(null!==t&&"object"==typeof t)return t;var n=new Error("Component ["+e+"] render/template not defined");throw n.code=600,n}).catch(function(e){var n=typeof e,r=600,i=null;if("object"===n){"code"in e&&(r=e.code);var a="toString"in e&&"function"==typeof e.toString?e.toString():null;a&&"string"==typeof a&&(i=a)}else"string"===n&&(i=e);throw t||Ie(r,i),e.format={code:r,text:i},console.error(e),e})},ke=function(e){var t=function(){return{component:Oe(e,!0).catch(function(e){throw fe=!0,ve(e.format.code,e.format.text),e}),loading:X,error:$e}};return function(){return Promise.resolve({functional:!0,render:function(e,n){return e(t,n.data,n.children)}})}},De=0,Ee=0,Re=[],je=function(){var e=history.state&&"key"in history.state?history.state.key:null;if(e){var t=Re.indexOf(e);t<0?(Re.push(e),De=0,Ee=Re.length-1):(De=t>Ee?1:t<Ee?-1:0,Ee=t)}},Pe="/",Se=!1,Ae=!1,Ce={name:"AppReloader",beforeRouteEnter:function(e,t,n){Pe=t.fullPath,n()},activated:function(){Ae=!0,this.$router.replace({path:Pe})},render:function(e,t){return e("i")}},Le=function(){return Se?2:De},Te=function(){me=!1,ne.$router.replace({path:"/reload"})},Ie=function(e,t){ve(e,t),me=!0,ne.$forceUpdate()},ze={functional:!0,render:function(e,t){je();var n=t.data,r={},i="attrs"in n&&"max"in n.attrs?n.attrs.max:null;null!==i&&(delete n.attrs.max,r.attrs={max:i});var a={},o="staticStyle"in n?n.staticStyle:{};return me?o.display="none":(o.display="",a.staticStyle={display:"none"}),n.staticStyle=o,e("div",{staticClass:"app-view"},[e(xe,a),e("keep-alive",r,[e("router-view",n,t.children)],1)],1)}},Ue="",qe="",Fe=null,Me=null,Ne=0,Be=!1,He=null,We=function(e){if(!1===Be)return!1;var t=Be;return 1!==t&&(e||(e=t>=0&&t<.2?.1:t>=.2&&t<.5?.04:t>=.5&&t<.8?.02:t>=.8&&t<.99?.005:0),(t=Math.min(.994,Math.max(0,t+e)))>.99&&t<.994&&(t=.994),Be=t),t=100*(-1+Be),"margin"===Fe?qe.style.marginLeft=t+"%":(qe.style.transform="translate3d"===Fe?"translate3d("+t+"%,0,0)":"translate("+t+"%,0)",qe.style.transition="all 200ms linear"),Be<.994},Je=function(){We()&&setTimeout(Je,200)},Ve=function(){!function(){if(""===qe){var e=z.getElementById("progress-wrap"),t=z.getElementById("progress-bar");if(e&&t){e.style.display="none",Ue=e,qe=t;var n=z.body.style;Fe=(Me="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"")+"Perspective"in n?"translate3d":Me+"Transform"in n?"translate":"margin"}else Ue=null}}(),Ue&&(Ne++,!1===Be&&(He&&(clearTimeout(He),He=null),Be=0,Je(),Ue.style.display="block"))},Ge=function(){--Ne>0||(We(.3+.5*Math.random()),Be=1,We(),Be=!1,He=setTimeout(function(){Ue.style.display="none"},300))},Ke=function(e){be=e},Qe=function(e){_e=e},Xe=function(e,t){return _e?_e(ne,e,t):new Promise(function(n){alert((t?"["+t+"]":"")+e),n(!0)})},Ye=function(e){ye=e},Ze=function(e){return _e?ye(ne,e):new Promise(function(t){confirm(e)&&t(!0)})},et={400:"请求数据不正确",401:"您还未登录或登录过期",403:"您无权执行该操作",404:"您执行的操作不存在",500:"服务器出错了",502:"网关发生错误",503:"服务器过载或正在维护",504:"请求网关超时",600:"前端资源错误"};function tt(e){this.json=e,this.code=0,this.message=null}tt.prototype={setJson:function(e){this.json=e},setError:function(e,t){this.code=e,this.message=t}};var nt,rt=function(e,t,n,r){var i=new Error(t);throw i.code=e,i.request=n,i.response=r,i},it=function(e,t,n,r){Number.isInteger(n)?(r=n,n={}):(n=n||{},r=Number.isInteger(r)?r:0),null!==e&&(n.method=e);var i=function(e,t){if(e instanceof Request)return new Request(e,t);var n=""!==W&&"none"!==W?{credentials:"include",mode:W}:{},r=Object.assign({},n,t);"POST"!==r.method&&"PUT"!==r.method&&"DELETE"!==r.method||(r.headers=Object.assign({},{Accept:"application/json"},r.headers),r.body instanceof FormData||(r.body=JSON.stringify(r.body)));var i=new Request(function(e){return/^(http:\/\/|https:\/\/|\/\/)/i.test(e)}(e)?e:V()+function(e){return"/"+e.replace(/([^:]\/)\/+/g,"$1").replace(/^\//g,"")}(e),r);return i._url=e,i}(t,n);return function(e){return Ve(),K(e).catch(function(t){console.error(t),rt(600,et[600],e,null)})}(i).then(function(e){return function(e,t,n){return(t.status<200||t.status>=300)&&rt(t.status,et[t.status]||t.statusText||"服务器出错了",e,t),t.json().catch(function(){return null}).then(function(r){if(null===r||4===n||!be)return r;var i=new tt(r);return Promise.resolve(be(i)).then(function(){return 0!==i.code&&rt(i.code,i.message||et[i.code]||"服务器出错了",e,t),i.json})})}(i,e,r)}).then(function(e){return Ge(),e}).catch(function(e){return function(e,t){if(Ge(),e.response&&401===e.response.status&&Xe(et[401]).then(function(){location.reload()}),t>2)throw e;return 1===t||2!==t&&"GET"===e.request.method?Ie(e.code,e.message):Xe(e.message,e.code),new Promise(function(){})}(e,r)})},at=function(e,t,n){return it(null,e,t,n)},ot=function(e,t,n){return it("GET",e,{headers:t},n)},st=function(e,t,n){return it("POST",e,{body:t},n)},lt={},ut=function(e,t){lt[e]=t},ct=function(e){return e in lt?lt[e]:void 0},pt=null,dt=function(e,t){pt&&pt.call(ne,e,t)},ht=function(e){return e},ft=function(e){ht=e},mt=function(e,t,n,r){var i=n||{},a=i.view;void 0===a&&(a={});var o=i.menus;void 0===o&&(o=[]);var s=i.passport;void 0===s&&(s={}),function(e,t,n){e.prototype.$admin={menus:t,passport:n,loader:Le,reload:Te,error:Ie,alert:Xe,confirm:Ze,emit:dt,require:Oe,fetch:K,fetchJson:at,getJson:ot,postJson:st,setStore:ut,getStore:ct},e.component("AppView",ze)}(e,o,s);var l=[];ht(o).forEach(function(e){if("uri"in e&&"path"in e){var t="/"+e.uri.replace(/^\//g,"")+("greedy"in e&&e.greedy?"(|/.*)":"");l.push({path:t,component:ke(e.path),meta:{uri:e.uri,name:e.name}})}}),l.length||console.warn("app routes is empty");var u={routes:l=[{path:"/reload",component:Ce}].concat(l,[{path:"*",component:xe}])};r&&(u.mode=r);var c=new t(u);c.beforeEach(function(e,t,n){me=!1,Ae?(Ae=!1,Se=!0):Se=!1,n()}),"onEvent"in a&&("function"==typeof a.onEvent&&(pt=a.onEvent),delete a.onEvent),a.el="#app",a.router=c,ne=new e(a),C&&(C.parentNode.removeChild(C),C=null)},vt=te({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return 0===e.status?n("div"):1===e.status?n("div",{staticClass:"curd-wrp curd-center"},[e._v(" 未指定 CURD 组件的数据源 ")]):2===e.status?n("div",{staticClass:"curd-page"},[n("el-page-header",{attrs:{content:e.pageName},on:{back:e.$_goBack},scopedSlots:e._u([e.pageHeader?{key:"content",fn:function(){return[e._t(e.pageHeader,null,null,e.pageHeaderData)]},proxy:!0}:null],null,!0)}),n("div",{staticClass:"curd-page-component"},[n(e.pageCmpt,{tag:"component"})],1)],1):n("div",{staticClass:"curd-wrp"},[n("div",{staticClass:"curd-body"},[n("div",{staticClass:"curd-header"},[n("div",{staticClass:"curd-search"},[n("el-input",{attrs:{size:"mini"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[n("el-button",{attrs:{slot:"append",type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.$_search},slot:"append"})],1),e.advanceSearch.enable?n("el-link",{attrs:{type:"primary"}},[e._v("高级")]):e._e()],1),e.reviseProps.length?n("div",{staticClass:"curd-revise"},[n("el-button",{staticClass:"curd-revise-toggle",attrs:{size:"mini",icon:"el-icon-s-operation",disabled:e.loading},on:{click:e.$_toggleRevise}}),n("div",{class:"curd-revise-list"+e.reviseOpen},[e._l(e.reviseProps,function(t,r){return n("el-button",{key:r,attrs:{type:"primary",size:"mini",disabled:e.loading,loading:t.ing},on:{click:function(n){return e.$_doRevise(t)}}},[e._v(e._s(t.name))])}),n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-refresh",disabled:e.loading},on:{click:e.refresh}})],2)],1):n("div",{staticClass:"curd-revise"},[n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-refresh",disabled:e.loading},on:{click:e.refresh}})],1)]),n("div",{class:"curd-list"+(e.loading||!e.total?" curd-list-none":"")},[n("el-table",e._g(e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.tableData,"header-cell-class-name":e.$_sortClass},on:{select:e.$_onSelect,"select-all":e.$_onSelect,"sort-change":e.$_sortList,"filter-change":e.$_filterList}},"el-table",e.tableAttrs,!1),e.tableEvent),[e.operate.length?n("el-table-column",{attrs:{type:"selection",width:"34"}}):e._e(),e._l(e.tableColumns,function(t,r){return n("el-table-column",e._b({key:r,scopedSlots:e._u([t.header?{key:"header",fn:function(n){return[e._t(t.header,null,null,n)]}}:null,t.slot?{key:"default",fn:function(n){return[e._t(t.slot,null,null,n)]}}:null],null,!0)},"el-table-column",t.props,!1))}),e.tableOperate?n("el-table-column",{attrs:{label:"操作",width:e.rowReviseSize},scopedSlots:e._u([e.tableOperateHeader?{key:"header",fn:function(t){return[e._t(e.tableOperateHeader,null,null,t)]}}:null,{key:"default",fn:function(t){return[e._t(e.tableOperate,null,null,t)]}}],null,!0)}):e.rowRevise.length?n("el-table-column",{attrs:{label:"操作",width:e.rowReviseSize},scopedSlots:e._u([e.tableOperateHeader?{key:"header",fn:function(t){return[e._t(e.tableOperateHeader,null,null,t)]}}:null,{key:"default",fn:function(t){return[n("span",{attrs:{ss:t.row.$s_||0}},[e._l(e.rowRevise,function(r,i){return["$s"in t.row&&"hide"!==t.row.$s[i]?n("el-button",{key:i,style:!t.row.$s[i]&&"color"in r?"color:"+r.color:"",attrs:{type:"text",size:"small",disabled:t.row.$s[i]},nativeOn:{click:function(n){return n.preventDefault(),e.$_doRowRevise(r,t,i)}}},[e._v(e._s(r.name))]):e._e()]})],2)]}}],null,!0)}):e._e()],2)],1)]),n("div",{class:"curd-pager"+(e.operateProps.length?" curd-pager-multi":"")},[e.operateProps.length?n("div",{staticClass:"curd-operate"},[n("el-button",{staticClass:"curd-operate-toggle",attrs:{size:"mini",icon:"el-icon-finished",disabled:e.loading||!e.total},on:{click:e.$_toggleOperate}}),n("el-checkbox",{attrs:{indeterminate:e.selectSome,disabled:e.loading||!e.total},on:{change:e.toggleChecked},model:{value:e.selectAll,callback:function(t){e.selectAll=t},expression:"selectAll"}}),n("div",{class:"curd-operate-list"+e.operateOpen},e._l(e.operateProps,function(t,r){return n("el-button",{key:r,attrs:{type:"text",disabled:t.ing||e.operateDis},on:{click:function(n){return e.$_doOperate(t)}}},[e._v(e._s(t.name))])}),1)],1):e._e(),n("el-pagination",{attrs:{background:"","page-size":e.pagesize,total:e.total,"pager-count":5,"current-page":e.currentPage,layout:"prev, pager, next, jumper"},on:{"current-change":e.toPage}})],1)])},staticRenderFns:[]},function(e){e&&e("data-v-f0cca3ea_0",{source:".curd-loadForm{display:flex;align-items:center;justify-content:center;min-width:260px;min-height:200px;color:#999}.curd-autoForm{padding:20px;max-width:600px}.curd-dialogForm{min-width:400px;padding:20px 0 0 0}.el-table .ascending .sort-caret.ascending{border-bottom-color:#c0c4cc}.el-table .descending .sort-caret.descending{border-top-color:#c0c4cc}.el-table .ascsort .sort-caret.ascending{border-bottom-color:#409eff}.el-table .descsort .sort-caret.descending{border-top-color:#409eff}.curd-wrp{width:100%;height:100%;overflow:hidden;display:flex;flex-direction:column}.app-phone .curd-wrp{display:block;height:auto}.curd-center{align-items:center;justify-content:center;color:#999}.curd-body{width:100%;flex:1;overflow:hidden;display:flex;flex-direction:column}.curd-header{width:100%;box-sizing:border-box;padding:0 15px;height:44px;display:flex;justify-content:space-between;align-items:center;background:#fbfbfb;border-bottom:1px solid #f1f1f1}.curd-search{display:flex;align-items:center}.curd-search .el-input{width:280px}.curd-search a{margin-left:8px;font-size:13px}.curd-search input{padding:0 5px;border-right:0}.curd-search .el-input-group__append{color:#2f95ff;background-color:#e5f2ff;border:1px solid #8fc6ff;border-left:1px solid #b8dbff;padding:0}.curd-search .el-input-group__append button{margin:0;border-radius:0}.curd-search .el-input-group__append button:focus,.curd-search .el-input-group__append button:hover{background:#d4e9ff}.curd-search .el-input-group__append button:active{background:#c7e2ff}.curd-revise-toggle{display:none}.app-phone .curd-search .el-input{width:160px}.app-phone .curd-revise{position:relative;z-index:3}.app-phone .curd-revise-toggle{display:block;padding:7px 10px}.app-phone .curd-revise-list{position:absolute;border:1px solid #bfbfbf;right:0;top:32px;background:#fff;min-width:90px;border-radius:4px;display:none}.app-phone .curd-revise-list.open{display:block}.app-phone .curd-revise-list button{width:100%;margin:0;color:#409eff;background:0 0;border-color:transparent;font-size:14px;padding:12px 20px}.curd-list{width:100%;flex:1;overflow:hidden}.curd-list .el-table{width:100%;height:100%;display:flex;flex-direction:column}.curd-list .el-table::before{display:none}.curd-list .el-table td,.curd-list .el-table th,.curd-list .el-table--medium td,.curd-list .el-table--medium th{padding:8px 0}.curd-list .el-table--small td,.curd-list .el-table--small th{padding:6px 0}.curd-list .el-table--mini td,.curd-list .el-table--mini th{padding:4px 0}.curd-list .el-table .cell{padding-right:0;white-space:nowrap}.curd-list .el-table .el-table__header-wrapper{z-index:2;box-shadow:0 1px 2px 0 rgba(0,0,0,.03)}.curd-list .el-table .is-scrolling-none{flex:1;overflow-y:auto}.curd-list .el-table--scrollable-x{overflow:auto}.curd-list .el-table--scrollable-x .el-table__header-wrapper{overflow:visible;box-shadow:none}.curd-list .el-table--scrollable-x .el-table__body-wrapper,.curd-list .el-table--scrollable-x .el-table__footer-wrapper{overflow:visible}.curd-list-none .el-table{overflow:hidden!important}.curd-list-none .el-table__empty-block{width:100%!important}.app-phone .curd-list .el-table::-webkit-scrollbar{display:none}.curd-pager{z-index:2;width:100%;box-sizing:border-box;padding:8px 0;text-align:center;background:#f6f6f6;box-shadow:0 -1px 1px rgba(0,0,0,.1)}.curd-pager-multi{display:flex;align-items:center;justify-content:space-between;padding:5px 20px 5px 12px}.curd-operate{display:flex;align-items:center}.curd-operate-toggle{display:none}.curd-operate .el-checkbox{margin-right:15px}.app-phone .curd-pager-multi{padding-left:8px;padding-right:8px}.app-phone .curd-operate{position:relative;z-index:2}.app-phone .curd-operate .el-checkbox{display:none}.app-phone .curd-operate-toggle{padding:7px 10px;display:block}.app-phone .curd-operate-list{position:absolute;border:1px solid #bfbfbf;left:0;bottom:32px;background:#fff;min-width:90px;border-radius:4px;display:none}.app-phone .curd-operate-list.open{display:block}.app-phone .curd-operate-list button{margin:0;width:100%}.app-phone .curd-pager .btn-next,.app-phone .curd-pager .btn-prev,.app-phone .el-pagination__jump{display:none!important}.app-phone .el-pagination.is-background .el-pager li{margin:0 3px}.curd-page{width:100%;height:100%;overflow:hidden;display:flex;flex-direction:column}.curd-page .el-page-header{width:100%;box-sizing:border-box;padding:10px 20px;border-bottom:1px solid #f9f9f9}.curd-page .el-page-header__left{align-items:center}.curd-page .el-page-header__content{flex:1}.curd-page-component{flex:1;overflow-y:auto}",map:void 0,media:void 0})},{name:"curd",data:function(){return{status:0,pageName:null,pageHeader:null,pageHeaderData:null,pageCmpt:null,loading:!0,total:0,currentPage:1,tableData:[],keyword:"",reviseProps:[],reviseOpen:"",selectSome:!1,selectAll:!1,operateProps:[],operateOpen:""}},props:{dataSource:{type:String,required:!0},primary:{type:String,default:"id"},pagesize:{type:Number,default:20},advanceSearch:{type:Object,default:{enable:!1,config:{}}},columns:{type:Array,default:[]},revise:{type:Array,default:[]},rowRevise:{type:Array,default:[]},rowReviseWidth:Number,operate:{type:Array,default:[]},beforeResolve:Function,afterResolve:Function,tableProps:{type:Object,default:{}},tableEvent:{type:Object,default:{}}},computed:{operateDis:function(){return!this.operate.length||this.loading||!this.total||!this.$refs.table.selection.length},tableAttrs:function(){var e=Object.assign({},this.tableProps);return"height"in e&&delete e.height,"max-height"in e&&delete e["max-height"],e},tableColumns:function(){var e=this,t=[],n=!1,r=["width","header-align","align","resizable","class-name"];return this.columns.forEach(function(i,a){var o=null,s={};Object.entries(i).forEach(function(e){var t=e[0],a=e[1];if(r.indexOf(t)>-1)s[t]=a;else if("field"===t)s.prop=a,o=a;else if("name"===t)s.label=a;else if("expand"===t&&a)s.type="expand";else if("flex"===t&&!n&&a&&"width"in i)n=!0,s["min-width"]=i.width;else if("sort"===t&&a)s.sortable="custom";else if("filters"===t){var l=a||{};"options"in l&&Array.isArray(l.options)&&(s.filters=l.options,s["column-key"]="field"in l?l.field:i.field,s["filter-multiple"]="multiple"in l&&l.multiple,"placement"in l&&(s["filter-placement"]=l.placement))}}),"min-width"in s&&delete s.width;var l={props:s,slot:null,header:null};o&&("column-"+o in e.$scopedSlots&&(l.slot="column-"+o),"column-"+o+"-header"in e.$scopedSlots&&(l.header="column-"+o+"-header")),t.push(l)}),t},tableOperateHeader:function(){return"operate-header"in this.$scopedSlots?"operate-header":null},tableOperate:function(){return"operate"in this.$scopedSlots?"operate":null},rowReviseSize:function(){if(this.rowReviseWidth)return this.rowReviseWidth;if(!this.rowRevise.length)return 0;var e="";return this.rowRevise.forEach(function(t){e+=t.name}),13*e.length+10*this.rowRevise.length+30}},mounted:function(){if(this.dataSource){this._pagePath=this.$route.meta.uri,this._loadStyle=0,this._reloadTime=0,this._lastError=null,this._sortFields={},this._filterFields={},this._lastRowOperateIndex=null,this._afterDialogClose_loadStyle=0,this.$_resetOperateData(),document.addEventListener("touchstart",this.$_listenTouch);var e=[];this.revise.forEach(function(t){t.ing=!1,e.push(t)}),this.reviseProps=e;var t=[];this.operate.forEach(function(e){e.ing=!1,t.push(e)}),this.operateProps=t,this.$_initPage()}else this.status=1},destroyed:function(){document.removeEventListener("touchstart",this.$_listenTouch)},watch:{$route:"$_onRouterChange"},methods:{refresh:function(){this.$admin.reload()},$_listenTouch:function(e){this.$admin.getStore("phone")&&(""===this.reviseOpen||e.target.closest(".curd-revise")||(this.reviseOpen=""),""===this.operateOpen||e.target.closest(".curd-operate")||(this.operateOpen=""))},$_onRouterChange:function(e){this.dataSource&&e.meta.uri===this._pagePath&&this.$_initPage()},$_search:function(){this.toPage(1)},$_toggleRevise:function(){this.reviseOpen=""===this.reviseOpen?" open":""},toggleChecked:function(){var e=this;this.tableData.forEach(function(t){e.$refs.table.toggleRowSelection(t)})},$_onSelect:function(){var e=this.$refs.table.selection.length;e?e<this.tableData.length?(this.selectSome=!0,this.selectAll=!1):(this.selectSome=!1,this.selectAll=!0):(this.selectSome=!1,this.selectAll=!1)},$_toggleOperate:function(){this.operateOpen=""===this.operateOpen?" open":""},$_resetOperateData:function(){this._operateData={curd:this,table:this.$refs.table,kind:null,primary:this.primary,data:null,dialog:null,operate:null,row:null,id:null,index:null}},$_doRevise:function(e){this.$_resetOperateData(),this._operateData.kind=0,this.$_doOperateConfirm(e)},$_doRowRevise:function(e,t,n){this._lastRowOperateIndex=n,this.$_resetOperateData(),this._operateData.kind=1,this._operateData.row=t.row,this._operateData.id=t.row[this.primary],this._operateData.index=t.$index,this.$_doOperateConfirm(e)},$_doOperate:function(e){var t=this;this.$_resetOperateData(),this._operateData.kind=2;var n=this.$refs.table.selection,r=[];n.forEach(function(e){t.primary in e&&r.push(e[t.primary])}),r.length&&(this._operateData.row=n,this._operateData.id=r,this.$_doOperateConfirm(e))},$_doOperateConfirm:function(e){if(this._operateData.operate=e,"confirm"in e&&e.confirm){var t="string"==typeof e.confirm?e.confirm:"您确定要 "+e.name+" "+(2===this._operateData.kind?"这 "+this._operateData.id.length+" 项":"")+"吗？";this.$admin.confirm(t).then(this.$_doOperateAction)}else this.$_doOperateAction()},$_doOperateAction:function(){var e=this;this._operateData.data=this.tableData;var t=this._operateData.operate,n=t.type;if(n<3&&(this._operateData.dialog=n),1===this._operateData.kind?(this._operateData.row.$s[this._lastRowOperateIndex]=!0,this.updateRow(this._operateData.row)):t.ing=!0,4!==n){if(3===n)return this.$_doAjaxOperate(t,this._operateData.id);var r=[];this.$admin.getStore("phone")||r.push("_dialog="+t.type),this._operateData.id&&!Array.isArray(this._operateData.id)&&r.push("id="+this._operateData.id);var i=this.$route.meta.uri+"/"+t.link;i+=r.length?(i.indexOf("?")>-1?"&":"?")+r.join("&"):"",this.$router.push(i)}else{var a="callback"in t?t.callback:null;a?Promise.resolve(a(this._operateData)).then(function(){e.$_endOprateIng(t)}):(this.$_endOprateIng(t),this.$admin.alert("未设置操作的回调函数"))}},$_doAjaxOperate:function(e,t){var n=this,r={};r[this.primary]=t,this.runAjax(e.link,r).then(function(t){if(n.$_endOprateIng(e),t){var r="after"in e?e.after:0;"function"==typeof r?r(n._operateData,t):1===r?n.toPage(1):2===r&&n.toPage(n.currentPage)}})},runAjax:function(e,t,n){var r=this;return n=n||0,this.$admin.postJson(e,t,4).then(function(e){var t="code"in(e=e||{})?e.code:500,i="message"in e?e.message:0===t?"操作成功":"操作失败";return 0!==t?(r.$admin.alert(i,t),!1):(n||r.$message({message:i,type:"success"}),e)}).catch(function(e){return r.$admin.alert("message"in e?e.message:"操作失败","code"in e?e.code:600),!1})},view:function(e){var t={};if("path"in e){t.path=e.path;["name","type","after","data"].forEach(function(n){n in e&&(t[n]=e[n])}),this.$_resetOperateData(),this._operateData.kind=4,"row"in e&&e.row&&(this._operateData.row=e.row,this.primary in e.row&&(this._operateData.id=e.row[this.primary])),"index"in e&&(this._operateData.index=e.index),this._operateData.operate=t,this._operateData.data=this.tableData,this.$_loadPage(t)}else this.$admin.alert("未指定组件")},$_goBack:function(){this.$_backToList(0)},$_backToList:function(e,t){if(this.$route.fullPath!==this._pagePath)return this._loadStyle=e,void this.$router.replace(this._pagePath);var n=!1;2===this.status&&this.pageCmpt?(this.status=3,this.pageCmpt=null,n=!0):t&&(n=!0),n&&(e>1?this.toPage(this.currentPage):e>0&&this.toPage(1))},$_initPage:function(){var e=this;if(2===this.$admin.loader()&&(this._loadStyle=2,this._lastError=null),this._lastError)this.$admin.error(this._lastError.code,this._lastError.message);else{var t=this.$route,n=t.path,r=t.query;if(n===this._pagePath)return this.status=3,this._reloadTime&&2!==this._loadStyle?1===this._loadStyle&&this.toPage(1):this.toPage(this.currentPage),void(this._loadStyle=0);var i=null;if(this._operateData.operate)i=this._operateData.operate;else{var a=n.split("/").pop();this.reviseProps.some(function(t){if(t.link===a)return e._operateData.kind=0,i=t,!0}),!i&&"id"in r&&r.id&&this.rowRevise.some(function(t){if(t.link===a)return e._operateData.kind=1,e._operateData.id=r.id,i=t,!0}),this._operateData.operate=i}if(!i||i.type>2)return this.$_endOprateIng(i),void this.$admin.error(404);this.$_loadPage(i)}},$_loadPage:function(e){var t,n=this,r=this.$admin.getStore("phone")?0:"type"in e?e.type:0;return r>0&&!this._reloadTime?(this.$_endOprateIng(e),void this.$router.replace(this._pagePath)):"string"!=typeof e.path?("component"===e.path.type&&(t=e.path.component),this.$_toOperate(e,r,t)):void this.$admin.require(e.path).then(function(t){n.$_toOperate(e,r,t)})},$_toOperate:function(e,t,n){var r=this;this._operateData.dialog=t,this._afterDialogClose_loadStyle=0,nt=this;var i=n,a="mixins"in i?i.mixins:[],o=!1;if(a.some(function(e){if("name"in e&&"__Operate__"===e.name)return o=!0,!0}),!o){var s=function(e,t){var n;if(t)n=e;else{var i=r._operateData.operate,a="after"in i?i.after:0;"function"==typeof a?(a(r._operateData),n=0===e||1===e||2===e?e:0):n=0===e||1===e||2===e?e:a}r._operateData.dialog?(r._afterDialogClose_loadStyle=n,r.$admin.emit("closeDialog")):r.$_backToList(n)};a.push({name:"__Operate__",data:function(){return{bag:nt._operateData}},methods:{back:function(){s(0,!0)},over:function(e){s(e,!1)}}}),i.mixins=a}var l="name"in e?e.name:"提示";if(t>0){var u={component:i};t<2&&(u.title=l),u.onClose=function(){r.$_backToList(r._afterDialogClose_loadStyle,!0)},this.$admin.emit("dialog",u)}else{this.pageName=l;var c="header"in e?e.header:null;c&&c in this.$scopedSlots&&(this.pageHeader=c,this.pageHeaderData="headerData"in e?e.headerData:void 0),this.pageCmpt=i,this.status=2}this.$_endOprateIng(e)},$_endOprateIng:function(e){1===this._operateData.kind?null!==this._lastRowOperateIndex&&this._operateData.row&&"$s"in this._operateData.row&&(this._operateData.row.$s[this._lastRowOperateIndex]=!1,this.updateRow(this._operateData.row)):"ing"in(e=e||{})&&e.ing&&(e.ing=!1)},$_sortClass:function(e){var t="header-cell-class-name"in this.tableProps?this.tableProps["header-cell-class-name"](e):null,n=e.column;if(n.sortable&&n.property in this._sortFields){var r=this._sortFields[n.property]?"descsort":"ascsort";return t?r+" "+t:r}},$_sortList:function(e){var t=e.prop,n=t in this._sortFields?this._sortFields[t]:null;null===n?this._sortFields[t]=!1:!1===n?this._sortFields[t]=!0:delete this._sortFields[t],this.toPage(1)},$_filterList:function(e){var t=this,n=!1;Object.entries(e).forEach(function(e){var r=e[0],i=e[1];i=i.slice(),r in t._filterFields?t._filterFields[r].join("")!==i.join("")&&(n=!0,t._filterFields[r]=i):i.length&&(n=!0,t._filterFields[r]=i)}),n&&this.toPage(1)},toPage:function(e){var t=this,n=Date.now();this._reloadTime=n,this._lastError=null,this.loading=!0,this.selectSome=!1,this.selectAll=!1;var r={};Object.entries(this._filterFields).forEach(function(e){var t=e[0],n=e[1],i=n.length;i&&(r[t]=i>1?n:n[0])});var i={keyword:this.keyword,advance:{},sorts:this._sortFields,filters:r,first:null,last:null,current:this.currentPage,page:e,offset:this.pagesize};this.currentPage=e;var a=this.tableData.length;a&&(this.primary in this.tableData[0]&&(i.first=this.tableData[0][this.primary]),this.primary in this.tableData[a-1]&&(i.last=this.tableData[a-1][this.primary])),this.$admin.postJson(this.dataSource,i,3).then(function(e){t._reloadTime===n&&(t.total=e.total,t.tableData=t.resolveData(e.lists),t.loading=!1)}).catch(function(e){t._lastError=e,t.$admin.error(e.code,e.message)})},resolveData:function(e){this.beforeResolve&&(e=this.beforeResolve(e));var t=this.$_resolveDataDisableBtn(e);return this.afterResolve?this.afterResolve(t):t},$_resolveDataDisableBtn:function(e){var t=this;if(this._dataResolver)return e.map(this._dataResolver);var n=[];this.rowRevise.forEach(function(e){n.push("disable"in e&&e.disable&&Array.isArray(e.disable)&&e.disable.length>1?e.disable:null)});var r=!("tree-props"in this.tableProps)||"lazy"in this.tableProps&&this.tableProps.lazy?null:this.tableProps["tree-props"],i=r&&"children"in r?r.children:null,a=function(e){var r=[];return n.forEach(function(n){r.push(!!n&&t.$_compared(e[n[0]],n[1],n[2]))}),e.$s=r,e.$s_=0,i&&i in e&&Array.isArray(e[i])&&(e[i]=e[i].map(a)),e};return this._dataResolver=a,e.map(a)},$_compared:function(e,t,n){if(void 0===n)return!0===t?!e:!1===t?!!e:e==n;switch(t){case"==":return e==n;case"!=":return e!=n;case"===":return e===n;case">":return e>n;case"<":return n<e;case">=":return e>=n;case"<=":return e<=n}return!1},updateRow:function(e){"$s_"in e&&(e.$s_=e.$s_>0?0:1)}}},void 0,!1,void 0,Z,void 0);var gt,bt={useVuex:!1,paths:{vue:["https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue","lib/vue"],"vue.router":["https://cdn.jsdelivr.net/npm/vue-router@3.0.6/dist/vue-router","lib/vue-router"],ELEMENT:["https://cdn.jsdelivr.net/npm/element-ui@2.8.2/lib/index","lib/element"]},libs:{element:{js:"ELEMENT",css:["https://cdn.jsdelivr.net/npm/element-ui@2.8.2/lib/theme-chalk/index","lib/element"]}},lessCdn:["https://cdn.bootcss.com/less.js/3.9.0/less.min","lib/less"],usePeerLib:!0,peerLib:["lib!element"],routerMode:"hash",apiBase:"",cookieMode:"",disableMock:!1,auth:!1,passport:null,authFailed:"无法获取登陆状态，请稍后再试",menus:"/menus",menusFailed:"连接服务器失败，请稍后再试"};function _t(e,t){var n="localLib"in e?e.localLib:"lib",r="useVuex"in e&&e.useVuex,i={vue:n+"/vue","vue.router":n+"/vue-router"};r&&(i.vuex=n+"/vuex"),"useCdn"in e&&e.useCdn&&(t&&"vue_runtime"in e?i.vue=[e.vue_runtime,n+"/vue"]:"vue"in e&&(i.vue=[e.vue,n+"/vue"]),"vue_router"in e&&(i["vue.router"]=[e.vue_router,n+"/vue-router"]),r&&"vuex"in e&&(i.vuex=[e.vuex,n+"/vuex"]));var a=function(e,t,n){var r=function(t){return Array.isArray(t)?t.map(function(t){return t.replace("~lib~",e)}):t.replace("~lib~",e)},i={};Object.entries(t).forEach(function(e){var t=e[0],n=e[1];i[t]=r(n)});var a={};return Object.entries(n).forEach(function(e){var t=e[0],n=e[1],i="string"==typeof n||Array.isArray(n),o=i?r(n):"js"in n?r(n.js):null,s=!i&&"css"in n?r(n.css):null;if(o){var l={js:Array.isArray(o)?o:[o]};s&&(l.css=s),a[t]=l}}),{paths:i,libs:a}}(n,"requirePaths"in e?e.requirePaths:{},"requireLibs"in e?e.requireLibs:{}),o=a.paths,s=a.libs,l=Object.assign({},o,i),u="lessCdn"in e&&e.lessCdn?e.lessCdn:null;u=u?[u,n+"/less"]:n+"/less";var c=[];"peerLib"in e&&(Array.isArray(e.peerLib)?e.peerLib.forEach(function(e){c.push("lib!"+e)}):c.push("lib!"+e.peerLib));var p=!!c.length,d="apiBase"in e?e.apiBase.replace(/\/$/g,""):"",h=Object.assign({},e,{useVuex:r,libs:s,paths:l,lessCdn:u,usePeerLib:p,peerLib:!!p&&c,apiBase:d}),f={};return Object.entries(bt).forEach(function(e){var t=e[0],n=e[1];f[t]=t in h?h[t]:n}),f.localLib=n,f}var yt=Q.split("/").slice(0,-2).join("/")+"/app/",xt=yt+"config.js";function wt(e,t){var n=""!==gt.cookieMode&&"none"!==gt.cookieMode?{credentials:"include",mode:gt.cookieMode}:{};return i(yt+"resolveRouter.js").catch(function(){return null}).then(function(e){return e&&ft(e),i(yt+"fetchGuard.js")}).catch(function(){return null}).then(function(e){return e&&Ke(e),i(yt+"alert.js")}).catch(function(){return null}).then(function(e){return e&&Qe(e),i(yt+"confirm.js")}).catch(function(){return null}).then(function(e){return e&&Ye(e),A(yt+"error.vue")}).then(function(e){return ge(e),!0}).catch(function(e){return console.error(e),!1}).then(function(){if(!gt.menus)throw"["+xt+"] menus api not set";if(!gt.auth)return{login:!1,passport:{}};if(!gt.passport)throw"["+xt+"] auth is enable, but not set passport api";return K(gt.passport,n).then(function(e){var t=200!==e.status;return e.json().then(function(e){return{login:t,passport:e}}).catch(function(e){if(!t)throw"load auth api failed";return{login:t,passport:null}})})}).catch(function(e){throw alert(gt.authFailed),e}).then(function(e){return e.login?A(yt+"login.vue").then(function(t){return{view:t,menus:[],passport:e.passport}}):K(gt.menus,n).then(function(e){if(200!==e.status)throw alert(gt.menusFailed),"load menus api failed";return e.json()}).then(function(t){return A(yt+"index.vue").then(function(n){return{view:n,menus:t,passport:e.passport}})})}).then(function(n){return mt(e,t,n,gt.routerMode)})}function $t(){var e="vuex"in gt.paths;require(e?["vue","vue.router","vuex"]:["vue","vue.router"],function(t,n,r){t.config.devtools=!0,t.use(n),e&&t.use(r),function(e){e.component(vt.name,vt)}(t),ce(t,gt.localLib,gt.libs),function(e,t){if(!gt.peerLib)return wt(e,t);require(gt.peerLib,function(n){wt(e,t)})}(t,n)})}function Ot(e){return A(Q+e+".vue")}pe(Ot),i(xt).then(function(r){gt=_t(r),J(gt.apiBase,gt.cookieMode),function(r,i,a){e=r,t=i,n=a}(Q,V(),gt.disableMock);var i=Object.assign({},gt.paths,{"less.browser":gt.lessCdn});requirejs.config({urlArgs:"version="+Date.now(),baseUrl:Q,paths:i,callback:$t})})}();